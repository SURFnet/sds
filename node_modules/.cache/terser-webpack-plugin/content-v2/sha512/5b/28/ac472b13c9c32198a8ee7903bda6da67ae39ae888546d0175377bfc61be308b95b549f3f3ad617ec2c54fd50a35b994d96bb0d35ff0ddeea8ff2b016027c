{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{971:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"b\",(function(){return es2015_FigspecFrameViewer})),__webpack_require__.d(__webpack_exports__,\"a\",(function(){return es2015_FigspecFileViewer}));const css_tag_t=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,css_tag_e=Symbol(),css_tag_n=new Map;class css_tag_s{constructor(t,n){if(this._$cssResult$=!0,n!==css_tag_e)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t}get styleSheet(){let e=css_tag_n.get(this.cssText);return css_tag_t&&void 0===e&&(css_tag_n.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const css_tag_r=(t,...n)=>{const o=1===t.length?t[0]:n.reduce(((e,n,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(n)+t[s+1]),t[0]);return new css_tag_s(o,css_tag_e)},S=css_tag_t?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const n of t.cssRules)e+=n.cssText;return(t=>new css_tag_s(\"string\"==typeof t?t:t+\"\",css_tag_e))(e)})(t):t;var reactive_element_s;const reactive_element_e=window.trustedTypes,reactive_element_r=reactive_element_e?reactive_element_e.emptyScript:\"\",h=window.reactiveElementPolyfillSupport,reactive_element_o={toAttribute(t,i){switch(i){case Boolean:t=t?reactive_element_r:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},reactive_element_n=(t,i)=>i!==t&&(i==i||t==t),reactive_element_l={attribute:!0,type:String,converter:reactive_element_o,reflect:!1,hasChanged:reactive_element_n};class reactive_element_a extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var i;null!==(i=this.l)&&void 0!==i||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Eh(s,i);void 0!==e&&(this._$Eu.set(e,s),t.push(e))})),t}static createProperty(t,i=reactive_element_l){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s=\"symbol\"==typeof t?Symbol():\"__\"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||reactive_element_l}static finalize(){if(this.hasOwnProperty(\"finalized\"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty(\"properties\")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(S(i))}else void 0!==i&&s.push(S(i));return s}static _$Eh(t,i){const s=i.attribute;return!1===s?void 0:\"string\"==typeof s?s:\"string\"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var i,s;(null!==(i=this._$Eg)&&void 0!==i?i:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var i;null===(i=this._$Eg)||void 0===i||i.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Et.set(i,this[i]),delete this[i])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return e=s,n=this.constructor.elementStyles,css_tag_t?e.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((t=>{const n=document.createElement(\"style\"),s=window.litNonce;void 0!==s&&n.setAttribute(\"nonce\",s),n.textContent=t.cssText,e.appendChild(n)})),s;var e,n}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$ES(t,i,s=reactive_element_l){var e,r;const h=this.constructor._$Eh(t,s);if(void 0!==h&&!0===s.reflect){const n=(null!==(r=null===(e=s.converter)||void 0===e?void 0:e.toAttribute)&&void 0!==r?r:reactive_element_o.toAttribute)(i,s.type);this._$Ei=t,null==n?this.removeAttribute(h):this.setAttribute(h,n),this._$Ei=null}}_$AK(t,i){var s,e,r;const h=this.constructor,n=h._$Eu.get(t);if(void 0!==n&&this._$Ei!==n){const t=h.getPropertyOptions(n),l=t.converter,a=null!==(r=null!==(e=null===(s=l)||void 0===s?void 0:s.fromAttribute)&&void 0!==e?e:\"function\"==typeof l?l:null)&&void 0!==r?r:reactive_element_o.fromAttribute;this._$Ei=n,this[n]=a(i,t.type),this._$Ei=null}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||reactive_element_n)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$Ei!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,i)=>this[i]=t)),this._$Et=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$EU()}catch(t){throw i=!1,this._$EU(),t}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;null===(i=this._$Eg)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,i)=>this._$ES(i,this[i],t))),this._$EC=void 0),this._$EU()}updated(t){}firstUpdated(t){}}var lit_html_t;reactive_element_a.finalized=!0,reactive_element_a.elementProperties=new Map,reactive_element_a.elementStyles=[],reactive_element_a.shadowRootOptions={mode:\"open\"},null==h||h({ReactiveElement:reactive_element_a}),(null!==(reactive_element_s=globalThis.reactiveElementVersions)&&void 0!==reactive_element_s?reactive_element_s:globalThis.reactiveElementVersions=[]).push(\"1.3.2\");const lit_html_i=globalThis.trustedTypes,lit_html_s=lit_html_i?lit_html_i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,lit_html_e=`lit$${(Math.random()+\"\").slice(9)}$`,lit_html_o=\"?\"+lit_html_e,lit_html_n=`<${lit_html_o}>`,lit_html_l=document,lit_html_h=(t=\"\")=>lit_html_l.createComment(t),lit_html_r=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,d=Array.isArray,u=t=>{var i;return d(t)||\"function\"==typeof(null===(i=t)||void 0===i?void 0:i[Symbol.iterator])},lit_html_c=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,lit_html_a=/>/g,f=/>|[ \t\\n\f\\r](?:([^\\s\"'>=/]+)([ \t\\n\f\\r]*=[ \t\\n\f\\r]*(?:[^ \t\\n\f\\r\"'`<>=]|(\"|')|))|$)/g,_=/'/g,m=/\"/g,g=/^(?:script|style|textarea|title)$/i,p=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),$=p(1),lit_html_y=p(2),b=Symbol.for(\"lit-noChange\"),w=Symbol.for(\"lit-nothing\"),T=new WeakMap,A=lit_html_l.createTreeWalker(lit_html_l,129,null,!1),C=(t,i)=>{const o=t.length-1,l=[];let h,r=2===i?\"<svg>\":\"\",d=lit_html_c;for(let i=0;i<o;i++){const s=t[i];let o,u,p=-1,$=0;for(;$<s.length&&(d.lastIndex=$,u=d.exec(s),null!==u);)$=d.lastIndex,d===lit_html_c?\"!--\"===u[1]?d=v:void 0!==u[1]?d=lit_html_a:void 0!==u[2]?(g.test(u[2])&&(h=RegExp(\"</\"+u[2],\"g\")),d=f):void 0!==u[3]&&(d=f):d===f?\">\"===u[0]?(d=null!=h?h:lit_html_c,p=-1):void 0===u[1]?p=-2:(p=d.lastIndex-u[2].length,o=u[1],d=void 0===u[3]?f:'\"'===u[3]?m:_):d===m||d===_?d=f:d===v||d===lit_html_a?d=lit_html_c:(d=f,h=void 0);const y=d===f&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=d===lit_html_c?s+lit_html_n:p>=0?(l.push(o),s.slice(0,p)+\"$lit$\"+s.slice(p)+lit_html_e+y):s+lit_html_e+(-2===p?(l.push(void 0),i):y)}const u=r+(t[o]||\"<?>\")+(2===i?\"</svg>\":\"\");if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return[void 0!==lit_html_s?lit_html_s.createHTML(u):u,l]};class E{constructor({strings:t,_$litType$:s},n){let l;this.parts=[];let r=0,d=0;const u=t.length-1,c=this.parts,[v,a]=C(t,s);if(this.el=E.createElement(v,n),A.currentNode=this.el.content,2===s){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){const t=[];for(const i of l.getAttributeNames())if(i.endsWith(\"$lit$\")||i.startsWith(lit_html_e)){const s=a[d++];if(t.push(i),void 0!==s){const t=l.getAttribute(s.toLowerCase()+\"$lit$\").split(lit_html_e),i=/([.?@])?(.*)/.exec(s);c.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?M:\"?\"===i[1]?H:\"@\"===i[1]?I:lit_html_S})}else c.push({type:6,index:r})}for(const i of t)l.removeAttribute(i)}if(g.test(l.tagName)){const t=l.textContent.split(lit_html_e),s=t.length-1;if(s>0){l.textContent=lit_html_i?lit_html_i.emptyScript:\"\";for(let i=0;i<s;i++)l.append(t[i],lit_html_h()),A.nextNode(),c.push({type:2,index:++r});l.append(t[s],lit_html_h())}}}else if(8===l.nodeType)if(l.data===lit_html_o)c.push({type:2,index:r});else{let t=-1;for(;-1!==(t=l.data.indexOf(lit_html_e,t+1));)c.push({type:7,index:r}),t+=lit_html_e.length-1}r++}}static createElement(t,i){const s=lit_html_l.createElement(\"template\");return s.innerHTML=t,s}}function P(t,i,s=t,e){var o,n,l,h;if(i===b)return i;let d=void 0!==e?null===(o=s._$Cl)||void 0===o?void 0:o[e]:s._$Cu;const u=lit_html_r(i)?void 0:i._$litDirective$;return(null==d?void 0:d.constructor)!==u&&(null===(n=null==d?void 0:d._$AO)||void 0===n||n.call(d,!1),void 0===u?d=void 0:(d=new u(t),d._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Cl)&&void 0!==l?l:h._$Cl=[])[e]=d:s._$Cu=d),void 0!==d&&(i=P(t,d._$AS(t,i.values),d,e)),i}class V{constructor(t,i){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:lit_html_l).importNode(s,!0);A.currentNode=o;let n=A.nextNode(),h=0,r=0,d=e[0];for(;void 0!==d;){if(h===d.index){let i;2===d.type?i=new N(n,n.nextSibling,this,t):1===d.type?i=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(i=new L(n,this,t)),this.v.push(i),d=e[++r]}h!==(null==d?void 0:d.index)&&(n=A.nextNode(),h++)}return o}m(t){let i=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class N{constructor(t,i,s,e){var o;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cg=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=P(this,t,i),lit_html_r(t)?t===w||null==t||\"\"===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):u(t)?this.S(t):this.$(t)}M(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==w&&lit_html_r(this._$AH)?this._$AA.nextSibling.data=t:this.k(lit_html_l.createTextNode(t)),this._$AH=t}T(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=E.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.m(s);else{const t=new V(o,this),i=t.p(this.options);t.m(s),this.k(i),this._$AH=t}}_$AC(t){let i=T.get(t.strings);return void 0===i&&T.set(t.strings,i=new E(t)),i}S(t){d(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new N(this.M(lit_html_h()),this.M(lit_html_h()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cg=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class lit_html_S{constructor(t,i,s,e,o){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=P(this,t,i,0),n=!lit_html_r(t)||t!==this._$AH&&t!==b,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=P(this,e[s+l],i,l),h===b&&(h=this._$AH[l]),n||(n=!lit_html_r(h)||h!==this._$AH[l]),h===w?t=w:t!==w&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.C(t)}C(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class M extends lit_html_S{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===w?void 0:t}}const k=lit_html_i?lit_html_i.emptyScript:\"\";class H extends lit_html_S{constructor(){super(...arguments),this.type=4}C(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends lit_html_S{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:w)===b)return;const e=this._$AH,o=t===w&&e!==w||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==w&&(e===w||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}const z=window.litHtmlPolyfillSupport;var lit_element_l,lit_element_o;null==z||z(E,N),(null!==(lit_html_t=globalThis.litHtmlVersions)&&void 0!==lit_html_t?lit_html_t:globalThis.litHtmlVersions=[]).push(\"2.2.3\");class lit_element_s extends reactive_element_a{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=((t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(lit_html_h(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l})(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return b}}lit_element_s.finalized=!0,lit_element_s._$litElement$=!0,null===(lit_element_l=globalThis.litElementHydrateSupport)||void 0===lit_element_l||lit_element_l.call(globalThis,{LitElement:lit_element_s});const lit_element_n=globalThis.litElementPolyfillSupport;null==lit_element_n||lit_element_n({LitElement:lit_element_s});(null!==(lit_element_o=globalThis.litElementVersions)&&void 0!==lit_element_o?lit_element_o:globalThis.litElementVersions=[]).push(\"3.2.0\");const property_i=(i,e)=>\"method\"===e.kind&&e.descriptor&&!(\"value\"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,i)}}:{kind:\"field\",key:Symbol(),placement:\"own\",descriptor:{},originalKey:e.key,initializer(){\"function\"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,i)}};function property_e(e){return(n,t)=>void 0!==t?((i,e,n)=>{e.constructor.createProperty(n,i)})(e,n,t):property_i(e,n)}var query_assigned_elements_n;null===(query_assigned_elements_n=window.HTMLSlotElement)||void 0===query_assigned_elements_n||query_assigned_elements_n.prototype.assignedElements;const ErrorMessage=({title:title,children:children})=>$`\n  <div class=\"error-background\">\n    <div class=\"error-container\">\n      <span class=\"error-title\"\n        ><span class=\"error-badge\">Error</span>${title}</span\n      >\n      <span class=\"error-description\">${children}</span>\n    </div>\n  </div>\n`,ErrorMessage_styles=css_tag_r`\n  .error-background {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    background: var(--error-bg);\n    color: var(--error-fg);\n  }\n\n  .error-container {\n    max-width: 800px;\n    margin: auto;\n    padding: 1em;\n  }\n\n  .error-badge {\n    display: inline-block;\n    font-size: 0.8em;\n    padding: 0.2em 0.5em;\n    margin-inline-end: 0.5em;\n\n    background: var(--error-color);\n    border-radius: 2px;\n    color: var(--error-bg);\n    text-transform: uppercase;\n  }\n\n  .error-title {\n    display: block;\n    font-size: 1.2em;\n\n    font-weight: bold;\n    text-transform: capitalize;\n  }\n\n  .error-description {\n    display: block;\n    margin-block-start: 1em;\n  }\n`,directive_t_ATTRIBUTE=1;const style_map_i=(t=class extends class directive_i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}{constructor(t){var e;if(super(t),t.type!==directive_t_ATTRIBUTE||\"style\"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error(\"The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.\")}render(t){return Object.keys(t).reduce(((e,r)=>{const s=t[r];return null==s?e:e+`${r=r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,\"-$&\").toLowerCase()}:${s};`}),\"\")}update(e,[r]){const{style:s}=e.element;if(void 0===this.ct){this.ct=new Set;for(const t in r)this.ct.add(t);return this.render(r)}this.ct.forEach((t=>{null==r[t]&&(this.ct.delete(t),t.includes(\"-\")?s.removeProperty(t):s[t]=\"\")}));for(const t in r){const e=r[t];null!=e&&(this.ct.add(t),t.includes(\"-\")?s.setProperty(t,e):s[t]=e)}return b}},(...e)=>({_$litDirective$:t,values:e}));var t;function absRect(rect){return{top:rect.y,right:rect.x+rect.width,bottom:rect.y+rect.height,left:rect.x}}function round(n){return Math.round(100*n)/100}function extendStyles(left,right){return[...stylesToArray(left),...stylesToArray(right)]}function stylesToArray(styles){return styles?styles instanceof Array?styles:[styles]:[]}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};const NodeSelectableMixin=superClass=>{class NodeSelectable extends superClass{constructor(...args){super(...args),this.selectedNode=null}updated(changedProperties){super.updated(changedProperties),changedProperties.has(\"selectedNode\")&&this.dispatchEvent(new CustomEvent(\"nodeselect\",{detail:{selectedNode:this.selectedNode}}))}}return __decorate([property_e({attribute:!1})],NodeSelectable.prototype,\"selectedNode\",void 0),NodeSelectable};function shouldSkipEvent(ev){return 0===ev.touches.length||ev.touches.length>2}const TouchGestureMixin=superClass=>class CTouchGesture extends superClass{constructor(...args){super(...args),this.previousTouches=null,this.addEventListener(\"touchstart\",(ev=>{shouldSkipEvent(ev)||(ev.preventDefault(),this.previousTouches=ev.touches)})),this.addEventListener(\"touchend\",(ev=>{shouldSkipEvent(ev)||(ev.preventDefault(),this.previousTouches=null)})),this.addEventListener(\"touchcancel\",(ev=>{shouldSkipEvent(ev)||(ev.preventDefault(),this.previousTouches=null)})),this.addEventListener(\"touchmove\",(ev=>{if(shouldSkipEvent(ev))return;const previousTouches=Array.from(this.previousTouches||[]),currentTouches=Array.from(ev.touches);this.previousTouches=ev.touches,currentTouches.length===previousTouches.length&&currentTouches.every((t=>previousTouches.some((pt=>pt.identifier===t.identifier))))&&(1!==currentTouches.length?this.onTouchPinch(function getDistance(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}({x:currentTouches[0].pageX,y:currentTouches[0].pageY},{x:previousTouches[0].pageX,y:previousTouches[0].pageY})):this.onTouchPan({x:currentTouches[0].pageX-previousTouches[0].pageX,y:currentTouches[0].pageY-previousTouches[0].pageY}))}))}get isTouching(){return!!(this.previousTouches&&this.previousTouches.length>0)}onTouchPan(delta){}onTouchPinch(delta){}};var PositionedMixin_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__classPrivateFieldGet=function(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError(\"attempted to get private field on non-instance\");return privateMap.get(receiver)},__classPrivateFieldSet=function(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError(\"attempted to set private field on non-instance\");return privateMap.set(receiver,value),value};const PositionedMixin=superClass=>{var _isDragModeOn,_movePanel,_keyDown,_keyUp,_listenToKeyboardEvents;class Positioned extends(TouchGestureMixin(superClass)){constructor(...args){super(...args),this.panX=0,this.panY=0,this.scale=1,this.zoomSpeed=500,this.panSpeed=500,_isDragModeOn.set(this,!1),_movePanel.set(this,((shiftX,shiftY)=>{this.panX+=shiftX/this.scale/window.devicePixelRatio,this.panY+=shiftY/this.scale/window.devicePixelRatio})),_keyDown.set(this,(event=>{\"Space\"!==event.code||__classPrivateFieldGet(this,_isDragModeOn)||(__classPrivateFieldSet(this,_isDragModeOn,!0),document.body.style.cursor=\"grab\")})),_keyUp.set(this,(event=>{\"Space\"===event.code&&__classPrivateFieldGet(this,_isDragModeOn)&&(__classPrivateFieldSet(this,_isDragModeOn,!1),document.body.style.cursor=\"auto\")})),_listenToKeyboardEvents.set(this,(()=>{document.addEventListener(\"keyup\",__classPrivateFieldGet(this,_keyUp)),document.addEventListener(\"keydown\",__classPrivateFieldGet(this,_keyDown))})),this.addEventListener(\"wheel\",(ev=>{if(this.isMovable)if(ev.preventDefault(),ev.ctrlKey){let{deltaY:deltaY}=ev;1===ev.deltaMode&&(deltaY*=15);const prevScale=this.scale;this.scale*=1-deltaY/(.5*(1e3-this.zoomSpeed));const offsetX=ev.offsetX-this.offsetWidth/2,offsetY=ev.offsetY-this.offsetHeight/2;this.panX+=offsetX/this.scale-offsetX/prevScale,this.panY+=offsetY/this.scale-offsetY/prevScale}else{const speed=.002*this.panSpeed;this.panX-=ev.deltaX*speed/this.scale,this.panY-=ev.deltaY*speed/this.scale}}),{passive:!1});let gestureStartScale=1;this.addEventListener(\"gesturestart\",(ev=>{ev.preventDefault(),gestureStartScale=this.scale})),this.addEventListener(\"gesturechange\",(_ev=>{const ev=_ev;ev.preventDefault(),this.scale=gestureStartScale*ev.scale})),this.addEventListener(\"pointermove\",(ev=>{4&ev.buttons&&(ev.preventDefault(),__classPrivateFieldGet(this,_movePanel).call(this,ev.movementX,ev.movementY))})),__classPrivateFieldGet(this,_listenToKeyboardEvents).call(this),this.onmousedown=()=>{__classPrivateFieldGet(this,_isDragModeOn)&&(document.body.style.cursor=\"grabbing\",this.onmousemove=({movementX:movementX,movementY:movementY})=>{__classPrivateFieldGet(this,_movePanel).call(this,movementX,movementY)},this.onmouseup=()=>{document.body.style.cursor=\"grab\",this.onmousemove=null,this.onmouseup=null})}}get isMovable(){return!0}get canvasTransform(){return[`scale(${this.scale})`,`translate(${this.panX}px, ${this.panY}px)`]}disconnectedCallback(){document.removeEventListener(\"keyup\",__classPrivateFieldGet(this,_keyUp)),document.removeEventListener(\"keydown\",__classPrivateFieldGet(this,_keyDown)),super.disconnectedCallback()}updated(changedProperties){super.updated(changedProperties),changedProperties.has(\"scale\")&&this.dispatchEvent(new CustomEvent(\"scalechange\",{detail:{scale:this.scale}})),(changedProperties.has(\"panX\")||changedProperties.has(\"panY\"))&&this.dispatchEvent(new CustomEvent(\"positionchange\",{detail:{x:this.panX,y:this.panY}}))}onTouchPan(delta){this.panX+=delta.x/this.scale,this.panY+=delta.y/this.scale}onTouchPinch(delta){this.scale*=1-delta/1e3}}return _isDragModeOn=new WeakMap,_movePanel=new WeakMap,_keyDown=new WeakMap,_keyUp=new WeakMap,_listenToKeyboardEvents=new WeakMap,PositionedMixin_decorate([property_e({attribute:!1})],Positioned.prototype,\"panX\",void 0),PositionedMixin_decorate([property_e({attribute:!1})],Positioned.prototype,\"panY\",void 0),PositionedMixin_decorate([property_e({attribute:!1})],Positioned.prototype,\"scale\",void 0),PositionedMixin_decorate([property_e({type:Number,attribute:\"zoom-speed\"})],Positioned.prototype,\"zoomSpeed\",void 0),PositionedMixin_decorate([property_e({type:Number,attribute:\"pan-speed\"})],Positioned.prototype,\"panSpeed\",void 0),Positioned},guidesCache=new Map,Guides=({node:node,distanceTo:distanceTo,reverseScale:reverseScale,fontSize:fontSize})=>{const combinedId=node.id+\"\\n\"+distanceTo.id;let guides=guidesCache.get(combinedId);return guides||(guides=function getDistanceGuides(selected,compared){const a=absRect(selected),b=absRect(compared),isYIntersecting=!(a.top>b.bottom||a.bottom<b.top),isXIntersecting=!(a.left>b.right||a.right<b.left);if(isXIntersecting&&isYIntersecting){const intersectCenter={x:(Math.max(a.left,b.left)+Math.min(a.right,b.right))/2,y:(Math.max(a.top,b.top)+Math.min(a.bottom,b.bottom))/2};return[{points:[{x:a.left,y:intersectCenter.y},{x:b.left,y:intersectCenter.y}]},{points:[{x:a.right,y:intersectCenter.y},{x:b.right,y:intersectCenter.y}]},{points:[{y:a.top,x:intersectCenter.x},{y:b.top,x:intersectCenter.x}]},{points:[{y:a.bottom,x:intersectCenter.x},{y:b.bottom,x:intersectCenter.x}]}]}const isALeft=a.left>b.right,isABelow=a.top>b.bottom,selectedCenter={x:selected.x+selected.width/2,y:selected.y+selected.height/2};return[isXIntersecting?null:{points:[{x:isALeft?a.left:a.right,y:selectedCenter.y},{x:isALeft?b.right:b.left,y:selectedCenter.y}],bisector:isYIntersecting?void 0:[{x:isALeft?b.right:b.left,y:selectedCenter.y},{x:isALeft?b.right:b.left,y:isABelow?b.bottom:b.top}]},isYIntersecting?null:{points:[{y:isABelow?a.top:a.bottom,x:selectedCenter.x},{y:isABelow?b.bottom:b.top,x:selectedCenter.x}],bisector:isXIntersecting?void 0:[{y:isABelow?b.bottom:b.top,x:selectedCenter.x},{y:isABelow?b.bottom:b.top,x:isALeft?b.right:b.left}]}].filter((x=>!!x))}(node.absoluteBoundingBox,distanceTo.absoluteBoundingBox),guidesCache.set(combinedId,guides)),[...guides.map((guide=>(({guide:guide,reverseScale:reverseScale})=>{const xLength=Math.abs(guide.points[0].x-guide.points[1].x),yLength=Math.abs(guide.points[0].y-guide.points[1].y);return 0===xLength&&0===yLength?null:lit_html_y`\n    <line\n      class=\"distance-line\"\n      x1=${guide.points[0].x}\n      y1=${guide.points[0].y}\n      x2=${guide.points[1].x}\n      y2=${guide.points[1].y}\n    />\n\n    ${guide.bisector&&lit_html_y`\n        <line\n          class=\"distance-line\"\n          x1=${guide.bisector[0].x}\n          y1=${guide.bisector[0].y}\n          x2=${guide.bisector[1].x}\n          y2=${guide.bisector[1].y}\n          style=${style_map_i({strokeDasharray:\"\"+4*reverseScale})}\n          shape-rendering=\"geometricPrecision\"\n          fill=\"none\"\n        />\n      `}\n  `})({guide:guide,reverseScale:reverseScale}))),...guides.map((guide=>(({guide:guide,reverseScale:reverseScale,fontSize:fontSize})=>{const xLength=Math.abs(guide.points[0].x-guide.points[1].x),yLength=Math.abs(guide.points[0].y-guide.points[1].y);if(0===xLength&&0===yLength)return null;const text=round(Math.max(xLength,yLength)).toString(10),width=text.length*fontSize*.5,startMargin=.25*fontSize,vPadding=.25*fontSize,hPadding=.5*fontSize,x=xLength>yLength?(guide.points[0].x+guide.points[1].x)/2-width/2:guide.points[0].x,y=xLength>yLength?guide.points[0].y:(guide.points[0].y+guide.points[1].y)/2-fontSize/2,transform=[`scale(${reverseScale})`,xLength>yLength?`translate(0, ${startMargin+vPadding})`:`translate(${startMargin+hPadding}, 0)`].join(\" \"),cx=x+width/2,transformOrigin=xLength>yLength?`${cx} ${y}`:`${x} ${y+fontSize/2}`;return lit_html_y`\n    <g class=\"distance-tooltip\">\n      <rect\n        x=${x-hPadding}\n        y=${y-vPadding}\n        rx=\"2\"\n        width=${width+2*hPadding}\n        height=${fontSize+2*vPadding}\n        transform=${transform}\n        transform-origin=${transformOrigin}\n        stroke=\"none\"\n      />\n\n      <text\n        x=${cx}\n        y=${y+fontSize-vPadding/2}\n        text-anchor=\"middle\"\n        transform=${transform}\n        transform-origin=${transformOrigin}\n        stroke=\"none\"\n        fill=\"white\"\n        style=\"font-size: ${fontSize}px\"\n      >\n        ${text}\n      </text>\n    </g>\n  `})({guide:guide,reverseScale:reverseScale,fontSize:fontSize})))]},DistanceGuide_styles=css_tag_r`\n  .distance-line {\n    shape-rendering: geometricPrecision;\n    fill: none;\n    opacity: 0;\n  }\n\n  .distance-tooltip {\n    opacity: 0;\n  }\n\n  .guide:hover ~ .distance-line,\n  .guide:hover ~ .distance-tooltip {\n    opacity: 1;\n  }\n`,CopyIcon=({onClick:onClick=(()=>{})})=>lit_html_y`\n  <svg @click=${onClick} title=\"copy icon\" width=\"14\" height=\"14\" viewBox=\"0 0 30 30\" fill=\"none\">\n  <path d=\"M21 25.5C21 24.9477 20.5523 24.5 20 24.5C19.4477 24.5 19 24.9477 19 25.5H21ZM13 2H25V0H13V2ZM28 5V21H30V5H28ZM25 24H13V26H25V24ZM10 21V5H8V21H10ZM13 24C11.3431 24 10 22.6569 10 21H8C8 23.7614 10.2386 26 13 26V24ZM28 21C28 22.6569 26.6569 24 25 24V26C27.7614 26 30 23.7614 30 21H28ZM25 2C26.6569 2 28 3.34315 28 5H30C30 2.23858 27.7614 0 25 0V2ZM13 0C10.2386 0 8 2.23858 8 5H10C10 3.34315 11.3431 2 13 2V0ZM16.5 28H5V30H16.5V28ZM2 25V10H0V25H2ZM5 28C3.34315 28 2 26.6569 2 25H0C0 27.7614 2.23858 30 5 30V28ZM5 7H8V5H5V7ZM2 10C2 8.34315 3.34315 7 5 7V5C2.23858 5 0 7.23858 0 10H2ZM16.5 30C18.9853 30 21 27.9853 21 25.5H19C19 26.8807 17.8807 28 16.5 28V30Z\" fill=\"#B3B3B3\"/>\n</svg>\n`,extractColorStyle=color=>0===color.a?\"transparent\":color.a<1?`rgba(${rgbToIntArray(color).join(\", \")}, ${color.a.toFixed(2)})`:rgbToHex(color);class Gradient{constructor(data){this.gradientHandles={start:data.gradientHandlePositions[0],end:data.gradientHandlePositions[1]},this.colors=data.gradientStops,this.colorObjects=this.createColorObjects(this.colors),this.angle=this.calculateAngle(this.gradientHandles.start,this.gradientHandles.end)}get cssGradientArray(){return this.colorObjects.map(((color,index)=>color+\" \"+this.floatToPercent(this.colors[index].position)))}get cssColor(){const cssGradientArray=this.cssGradientArray;return cssGradientArray.unshift(this.angle+\"deg\"),`linear-gradient(${cssGradientArray.join(\", \")})`}createColorObjects(colors){return colors.map((({color:color})=>extractColorStyle(color)))}floatToPercent(value){return(value*=100).toFixed(0)+\"%\"}calculateAngle(startHandle,endHandle){const radians=Math.atan(this.calculateGradient(startHandle,endHandle));return parseInt(this.radToDeg(radians).toFixed(1))}calculateGradient(startHandle,endHandle){return(endHandle.y-startHandle.y)/(endHandle.x-startHandle.x)*-1}radToDeg(radian){return 180*radian/Math.PI}}class NodeStyles{constructor(node){var _a,_b,_c;if(this.hasPadding=!1,this.height=`${Math.trunc(node.absoluteBoundingBox.height)}px`,this.width=`${Math.trunc(node.absoluteBoundingBox.width)}px`,(node.horizontalPadding||node.verticalPadding)&&(this.hasPadding=!0,this.horizontalPadding=`${node.horizontalPadding}px`,this.verticalPadding=`${node.verticalPadding}px`),node.style&&(this.fontFamily=node.style.fontFamily,this.fontPostScriptName=null===(_a=node.style.fontPostScriptName)||void 0===_a?void 0:_a.replace(\"-\",\" \"),this.fontWeight=node.style.fontWeight,this.fontSize=`${Math.ceil(node.style.fontSize)}px`,this.lineHeight=`${Math.trunc(node.style.lineHeightPx)}px`),node.rectangleCornerRadii&&(this.borderRadius=node.rectangleCornerRadii.filter((radius=>radius===node.cornerRadius)).length<4?`${node.rectangleCornerRadii.join(\"px \")}px`:`${node.cornerRadius}px`),node.backgroundColor||node.backgroundColor){const color=node.backgroundColor||(null===(_b=node.background)||void 0===_b?void 0:_b[0].color);this.background=extractColorStyle(color)}const fillColor=null===(_c=node.fills)||void 0===_c?void 0:_c[0];if(fillColor&&!1!==fillColor.visible&&(\"TEXT\"===node.type?this.color=extractColorStyle(fillColor.color):fillColor.type.includes(\"GRADIENT\")?this.backgroundImage=new Gradient(fillColor).cssColor:\"SOLID\"===fillColor.type&&(this.background=extractColorStyle(fillColor.color))),node.strokes&&node.strokes.length>0&&(this.borderColor=extractColorStyle(node.strokes[0].color),this.border=`${node.strokeWeight}px solid ${this.borderColor}`),node.effects&&node.effects.length>0){const{offset:offset,radius:radius,color:color}=node.effects[0];this.boxShadowColor=extractColorStyle(color),this.boxShadow=`${(null==offset?void 0:offset.x)||0}px ${(null==offset?void 0:offset.y)||0}px 0 ${radius} ${this.boxShadowColor}`}}getStyles(){return[this.height&&{property:\"height\",value:this.height},this.width&&{property:\"width\",value:this.width},this.fontFamily&&{property:\"font-family\",value:this.fontFamily},this.fontSize&&{property:\"font-size\",value:this.fontSize},this.fontWeight&&{property:\"font-weight\",value:this.fontWeight},this.lineHeight&&{property:\"line-height\",value:this.lineHeight},this.borderRadius&&{property:\"border-radius\",value:this.borderRadius},this.backgroundImage&&{property:\"background-image\",value:this.backgroundImage},this.boxShadow&&{property:\"box-shadow\",value:this.boxShadow,color:this.boxShadowColor},this.border&&{property:\"border\",value:this.border,color:this.borderColor},this.background&&{property:\"background\",value:this.background,color:this.background},this.color&&{property:\"color\",value:this.color,color:this.color}].filter(Boolean)}getStyleSheet(){return this.getStyles().map(getStyleRule).join(\"\\n\")}}const rgbToIntArray=color=>[Math.trunc(255*color.r),Math.trunc(255*color.g),Math.trunc(255*color.b)],rgbToHex=color=>{const[r,g,b]=rgbToIntArray(color);return\"#\"+((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1)},getStyleRule=({property:property,value:value})=>`${property}: ${value};`;var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const copy=text=>__awaiter(void 0,void 0,void 0,(function*(){yield navigator.clipboard.writeText(text)})),View=({node:node,onClose:onClose})=>{if(!node)return null;const nodeStyles=new NodeStyles(node),stopPropagation=ev=>ev.stopPropagation();return $`\n    <div\n      class=\"inspector-view\"\n      @click=${stopPropagation}\n      @wheel=${stopPropagation}\n      @keydown=${stopPropagation}\n      @keyup=${stopPropagation}\n      @pointermove=${stopPropagation}\n    >\n      <div class=\"inspector-section selectable-content\">\n        <div class=\"title-section\">\n          <h4>${node.name}</h4>\n          ${(({onClick:onClick=(()=>{})})=>lit_html_y`\n  <svg @click=${onClick} title=\"close icon\" width=\"14\" height=\"14\" viewBox=\"0 0 20 20\" fill=\"none\">\n    <path d=\"M1 19L19 1M19 19L1 1\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n  </svg>\n`)({onClick:onClose})}\n        </div>\n        <div class=\"properties-overview\">\n          <div class=\"title-section\">\n            <p class=\"inspector-property\">\n              <span>W: </span>${nodeStyles.width}\n            </p>\n            <p class=\"inspector-property\" style=\"margin-left: 16px;\">\n              <span>H: </span>${nodeStyles.height}\n            </p>\n          </div>\n          ${nodeStyles.fontPostScriptName?$`<p class=\"inspector-property\">\n                <span>Font:</span>\n                ${nodeStyles.fontPostScriptName}\n              </p>`:null}\n        </div>\n      </div>\n      ${nodeStyles.hasPadding?$`<div class=\"inspector-section\">\n            <h4>Layout</h4>\n            ${nodeStyles.horizontalPadding&&$`<p class=\"inspector-property\">\n              ${lit_html_y`\n  <svg title=\"horizontal padding\" width=\"14\" height=\"14\" viewBox=\"0 0 29 28\" fill=\"none\">\n    <rect x=\"7\" y=\"8\" width=\"14\" height=\"14\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n    <path d=\"M27 1V28\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n    <path d=\"M1 0V28\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n  </svg>\n`} ${nodeStyles.horizontalPadding}\n            </p>`}\n            ${nodeStyles.verticalPadding&&$`<p class=\"inspector-property\">\n              ${lit_html_y`\n  <svg title=\"vertical padding\" width=\"14\" height=\"14\" viewBox=\"0 0 29 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"8\" y=\"21\" width=\"14\" height=\"14\" transform=\"rotate(-90 8 21)\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n    <path d=\"M1 1L28 0.999999\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n    <path d=\"M0 27L28 27\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n  </svg>\n`} ${nodeStyles.verticalPadding}\n            </p>`}\n          </div>`:null}\n      ${node.characters?$`<div class=\"inspector-section\">\n            <div class=\"title-section\">\n              <h4>Content</h4>\n              ${CopyIcon({onClick:()=>copy(node.characters)})}\n            </div>\n            <p class=\"node-content code-section selectable-content\">\n              ${node.characters}\n            </p>\n          </div>`:null}\n      ${StylesSection(nodeStyles)}\n    </div>\n  `},StylesSection=nodeStyles=>{const styles=nodeStyles.getStyles();return $`<div class=\"inspector-section\">\n    <div class=\"title-section style-section\">\n      <h4>CSS</h4>\n      ${CopyIcon({onClick:()=>copy(nodeStyles.getStyleSheet())})}\n    </div>\n    <div class=\"code-section selectable-content\">\n      ${styles.map(CSSProperty)}\n    </div>\n  </div>`},CSSProperty=cssProperty=>{const{property:property,value:value,color:color}=cssProperty;let coloredSquare=null;switch(property){case\"background\":case\"fill\":case\"border\":case\"box-shadow\":case\"color\":coloredSquare=$`<span\n        class=\"color-preview\"\n        style=\"background-color: ${color}\"\n      ></span>`;break;case\"background-image\":coloredSquare=$`<span\n        class=\"color-preview\"\n        style=\"background-image: ${value}\"\n      ></span>`}return $`<div class=\"css-property\" @click=${()=>copy(getStyleRule(cssProperty))}>\n    <span>${property}:</span>${coloredSquare}<span class=\"css-value\">${value}</span>;</span>\n  </div>`},InspectorView_styles=css_tag_r`\n  .inspector-view {\n    height: 100%;\n    width: 300px;\n    position: absolute;\n    right: 0;\n    background: white;\n    border-left: 1px solid #ccc;\n    overflow-y: auto;\n    z-index: calc(var(--z-index) + 2);\n  }\n\n  .inspector-view h4 {\n    font-size: 16px;\n    margin: 0;\n  }\n\n  .style-section {\n    margin-bottom: 12px;\n  }\n\n  .title-section {\n    display: flex;\n    align-items: center;\n  }\n\n  .code-section {\n    padding: 8px;\n    background: #f3f3f3;\n    font-family: monospace;\n  }\n\n  .title-section svg {\n    cursor: pointer;\n    margin-left: auto;\n  }\n\n  .inspector-section {\n    padding: 16px;\n    border-bottom: 1px solid #eee;\n  }\n\n  .properties-overview {\n    font-family: monospace;\n    color: #518785;\n  }\n\n  .properties-overview p span {\n    color: #121212;\n  }\n\n  .inspector-property {\n    display: flex;\n    align-items: center;\n    margin-bottom: 0;\n  }\n\n  .inspector-property span {\n    color: #b3b3b3;\n    margin-right: 4px;\n  }\n\n  .inspector-property svg {\n    margin-right: 8px;\n  }\n\n  .css-property {\n    margin: 8px;\n    transition: background-color ease-in-out 100ms;\n  }\n\n  .css-property:hover {\n    cursor: pointer;\n    background-color: #e8e8e8;\n  }\n\n  .css-value {\n    color: #518785;\n    margin-left: 4px;\n  }\n\n  .color-preview {\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    border: 1px solid #ccc;\n    margin-left: 4px;\n    vertical-align: middle;\n  }\n\n  .selectable-content {\n    cursor: text;\n    user-select: text;\n  }\n`,Outline=({node:node,selected:selected=!1,computedThickness:computedThickness,onClick:onClick})=>{const{x:x,y:y,width:width,height:height}=node.absoluteBoundingBox,radius=\"cornerRadius\"in node&&node.cornerRadius?{topLeft:node.cornerRadius,topRight:node.cornerRadius,bottomRight:node.cornerRadius,bottomLeft:node.cornerRadius}:\"rectangleCornerRadii\"in node&&node.rectangleCornerRadii?{topLeft:node.rectangleCornerRadii[0],topRight:node.rectangleCornerRadii[1],bottomRight:node.rectangleCornerRadii[2],bottomLeft:node.rectangleCornerRadii[3]}:{topLeft:0,topRight:0,bottomRight:0,bottomLeft:0},shift=computedThickness/2,lineTo=(x,y)=>`L${x},${y}`,arcTo=(r,x,y)=>`A${r},${r} 0 0 1 ${x},${y}`,boxPath=[((x,y)=>`M${x},${y}`)(radius.topLeft+shift,shift),lineTo(width-radius.topRight,shift),arcTo(radius.topRight-shift,width-shift,radius.topRight),lineTo(width-shift,height-radius.bottomRight),arcTo(radius.bottomRight-shift,width-radius.bottomRight,height-shift),lineTo(radius.bottomLeft,height-shift),arcTo(radius.bottomLeft-shift,shift,height-radius.bottomLeft),lineTo(shift,radius.topLeft),arcTo(radius.topLeft-shift,radius.topLeft,shift),\"Z\"].join(\" \");return lit_html_y`\n    <path\n      class=\"guide\"\n      d=${boxPath}\n      shape-rendering=\"geometricPrecision\"\n      fill=\"none\"\n      transform=\"translate(${x}, ${y})\"\n      ?data-selected=${selected}\n      @click=${onClick}\n    />\n  `},Node_styles=css_tag_r`\n  .guide {\n    /*\n     * SVGs cannot be pixel perfect, especially floating values.\n     * Since many platform renders them visually incorrectly (probably they\n     * are following the spec), it's safe to set overflow to visible.\n     * Cropped borders are hard to visible and ugly.\n     */\n    overflow: visible;\n\n    pointer-events: all;\n\n    opacity: 0;\n  }\n  .guide:hover {\n    opacity: 1;\n  }\n  .guide[data-selected] {\n    opacity: 1;\n    stroke: var(--guide-selected-color);\n  }\n\n  .tooltip {\n    position: absolute;\n    padding: 0.25em 0.5em;\n    font-size: var(--guide-tooltip-font-size);\n\n    color: var(--guide-selected-tooltip-fg);\n    background-color: var(--guide-selected-tooltip-bg);\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: calc(var(--z-index) + 1);\n\n    transform-origin: top center;\n  }\n`,DAY=864e5,intervals=[{gte:31536e6,divisor:31536e6,unit:\"year\"},{gte:2592e6,divisor:2592e6,unit:\"month\"},{gte:6048e5,divisor:6048e5,unit:\"week\"},{gte:DAY,divisor:DAY,unit:\"day\"},{gte:36e5,divisor:36e5,unit:\"hour\"},{gte:6e4,divisor:6e4,unit:\"minute\"},{gte:3e4,divisor:1e3,unit:\"seconds\"},{gte:0,divisor:1,text:\"just now\"}],getTime=targetDate=>(\"object\"==typeof targetDate?targetDate:new Date(targetDate)).getTime(),Footer_styles=css_tag_r`\n  .figma-footer {\n    flex: 0;\n    z-index: calc(var(--z-index) + 1);\n    border-top: 1px solid #ccc;\n    min-height: 48px;\n    padding: 0 16px;\n    text-decoration: none;\n    display: flex;\n    flex-direction: row;\n    justify-content: start;\n    align-items: center;\n    background-color: #fff;\n    overflow-x: auto;\n    cursor: pointer;\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.8);\n  }\n\n  .figma-footer--icon {\n    margin-right: 12px;\n  }\n\n  .figma-footer--title {\n    font-weight: 600;\n    margin-right: 4px;\n\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .figma-footer--timestamp {\n    white-space: nowrap;\n    overflow: hidden;\n  }\n`,Footer=metadata=>{if(!metadata||!metadata.link||void 0===metadata.link||\"undefined\"===metadata.link)return null;const{link:link,timestamp:timestamp,fileName:fileName}=metadata;return $`<a\n    class=\"figma-footer\"\n    target=\"_blank\"\n    rel=\"noopener\"\n    title=\"Open in Figma\"\n    href=\"${link}\"\n  >\n    <span class=\"figma-footer--icon\"> ${lit_html_y`\n  <svg title=\"figma logo\" width=\"11\" height=\"16\" viewBox=\"0 0 12 17\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M5.5 1.5h-2c-1.105 0-2 .895-2 2 0 1.105.895 2 2 2h2v-4zm-5 2c0 1.043.533 1.963 1.341 2.5C1.033 6.537.5 7.457.5 8.5c0 1.043.533 1.963 1.341 2.5C1.033 11.537.5 12.457.5 13.5c0 1.657 1.343 3 3 3 1.657 0 3-1.343 3-3V10.736c.53.475 1.232.764 2 .764 1.657 0 3-1.343 3-3 0-1.043-.533-1.963-1.341-2.5.808-.537 1.341-1.457 1.341-2.5 0-1.657-1.343-3-3-3h-5c-1.657 0-3 1.343-3 3zm1 5c0-1.105.895-2 2-2h2v4h-2c-1.105 0-2-.895-2-2zm0 5c0-1.105.895-2 2-2h2v2c0 1.105-.895 2-2 2-1.105 0-2-.895-2-2zm7-3c-1.105 0-2-.895-2-2 0-1.105.895-2 2-2 1.105 0 2 .895 2 2 0 1.105-.895 2-2 2zm0-5h-2v-4h2c1.105 0 2 .895 2 2 0 1.105-.895 2-2 2z\"\n      fill-rule=\"evenodd\"\n      fill-opacity=\"1\"\n      fill=\"#000\"\n      stroke=\"none\"\n    ></path>\n  </svg>\n`} </span>\n    <span class=\"figma-footer--title\"> ${fileName} </span>\n    <span\n      title=\"Last time edited: ${new Date(timestamp).toUTCString()}\"\n      class=\"figma-footer--timestamp\"\n    >\n      Edited ${((date,nowDate=Date.now(),rft=new Intl.RelativeTimeFormat(void 0,{numeric:\"auto\"}))=>{const diff=getTime(nowDate)-getTime(date),diffAbs=Math.abs(diff);for(const interval of intervals)if(diffAbs>=interval.gte){const x=Math.round(Math.abs(diff)/interval.divisor),isInFuture=diff<0,intervalUnit=interval.unit;return intervalUnit?rft.format(isInFuture?x:-x,intervalUnit):interval.text}})(timestamp)}\n    </span>\n  </a>`};var ViewerMixin_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ViewerMixin_classPrivateFieldGet=function(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError(\"attempted to get private field on non-instance\");return privateMap.get(receiver)},ViewerMixin_classPrivateFieldSet=function(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError(\"attempted to set private field on non-instance\");return privateMap.set(receiver,value),value};const ViewerMixin=superClass=>{var _canvasSize,_effectMargins,_flattenedNodes,_handleNodeClick,_getNodeById;class Viewer extends(NodeSelectableMixin(PositionedMixin(superClass))){constructor(...args){super(...args),this.zoomMargin=50,this.link=\"\",_canvasSize.set(this,void 0),_effectMargins.set(this,void 0),_flattenedNodes.set(this,void 0),_handleNodeClick.set(this,(node=>ev=>{ev.preventDefault(),ev.stopPropagation(),this.selectedNode=node})),_getNodeById.set(this,(id=>{var _a,_b;return null!==(_b=null===(_a=ViewerMixin_classPrivateFieldGet(this,_flattenedNodes))||void 0===_a?void 0:_a.find((n=>n.id===id)))&&void 0!==_b?_b:null}))}static get styles(){return extendStyles(super.styles,[css_tag_r`\n          :host {\n            --default-error-bg: #fff;\n            --default-error-fg: #333;\n\n            --bg: var(--figspec-viewer-bg, #e5e5e5);\n            --z-index: var(--figspec-viewer-z-index, 0);\n            --error-bg: var(--figspec-viewer-error-bg, var(--default-error-bg));\n            --error-fg: var(--figspec-viewer-error-fg, var(--default-error-fg));\n            --error-color: var(--figspec-viewer-error-color, tomato);\n\n            --guide-thickness: var(--figspec-viewer-guide-thickness, 1.5px);\n            --guide-color: var(--figspec-viewer-guide-color, tomato);\n            --guide-selected-color: var(\n              --figspec-viewer-guide-selected-color,\n              dodgerblue\n            );\n            --guide-tooltip-fg: var(--figspec-viewer-guide-tooltip-fg, white);\n            --guide-selected-tooltip-fg: var(\n              --figspec-viewer-guide-selected-tooltip-fg,\n              white\n            );\n            --guide-tooltip-bg: var(\n              --figspec-viewer-guide-tooltip-bg,\n              var(--guide-color)\n            );\n            --guide-selected-tooltip-bg: var(\n              --figspec-viewer-guide-selected-tooltip-bg,\n              var(--guide-selected-color)\n            );\n            --guide-tooltip-font-size: var(\n              --figspec-viewer-guide-tooltip-font-size,\n              12px\n            );\n\n            position: relative;\n            display: block;\n\n            background-color: var(--bg);\n            user-select: none;\n            overflow: hidden;\n            z-index: var(--z-index);\n          }\n\n          @media (prefers-color-scheme: dark) {\n            :host {\n              --default-error-bg: #222;\n              --default-error-fg: #fff;\n            }\n          }\n\n          .spec-canvas-wrapper {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            display: flex;\n            flex-direction: column-reverse;\n          }\n\n          .canvas {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            flex: 1;\n          }\n\n          .rendered-image {\n            position: absolute;\n            top: 0;\n            left: 0;\n          }\n\n          .guides {\n            position: absolute;\n\n            overflow: visible;\n            stroke: var(--guide-color);\n            fill: var(--guide-color);\n            pointer-events: none;\n            z-index: calc(var(--z-index) + 2);\n          }\n        `,Node_styles,ErrorMessage_styles,DistanceGuide_styles,InspectorView_styles,Footer_styles])}get __images(){return{}}deselectNode(){this.selectedNode=null}get error(){return ViewerMixin_classPrivateFieldGet(this,_canvasSize)&&ViewerMixin_classPrivateFieldGet(this,_flattenedNodes)?null:ErrorMessage({title:\"Error\",children:\"Please call `__updateTree/1` method with a valid parameter.\"})}render(){if(this.error)return this.error instanceof Error?ErrorMessage({title:this.error.name||\"Error\",children:this.error.message}):\"string\"==typeof this.error?ErrorMessage({title:\"Error\",children:this.error}):this.error;const canvasSize=ViewerMixin_classPrivateFieldGet(this,_canvasSize),reverseScale=1/this.scale,guideThickness=`calc(var(--guide-thickness) * ${reverseScale})`,computedGuideThickness=parseFloat(getComputedStyle(this).getPropertyValue(\"--guide-thickness\")),computedGuideTooltipFontSize=parseFloat(getComputedStyle(this).getPropertyValue(\"--guide-tooltip-font-size\"));return $`\n        <div class=\"spec-canvas-wrapper\" @click=${this.deselectNode}>\n          <div\n            class=\"canvas\"\n            style=\"\n          width: ${canvasSize.width}px;\n          height: ${canvasSize.height}px;\n\n          transform: translate(-50%, -50%) ${this.canvasTransform.join(\" \")}\n        \"\n          >\n            ${Object.entries(this.__images).map((([nodeId,uri])=>{var _a;const node=ViewerMixin_classPrivateFieldGet(this,_getNodeById).call(this,nodeId);if(!node||!(\"absoluteBoundingBox\"in node)||!(null===(_a=ViewerMixin_classPrivateFieldGet(this,_effectMargins))||void 0===_a?void 0:_a[node.id]))return null;const margin=ViewerMixin_classPrivateFieldGet(this,_effectMargins)[node.id];return $`\n                <img class=\"rendered-image\" src=\"${uri}\"\n                style=${style_map_i({top:node.absoluteBoundingBox.y-canvasSize.y+\"px\",left:node.absoluteBoundingBox.x-canvasSize.x+\"px\",marginTop:-margin.top+\"px\",marginLeft:-margin.left+\"px\",width:node.absoluteBoundingBox.width+margin.left+margin.right+\"px\",height:node.absoluteBoundingBox.height+margin.top+margin.bottom+\"px\"})}\"\n                \" />\n              `}))}\n            ${this.selectedNode&&(({nodeSize:{x:x,y:y,width:width,height:height},offsetX:offsetX,offsetY:offsetY,reverseScale:reverseScale})=>$`\n    <div class=\"tooltip\" style=\"${style_map_i({top:`${offsetY+y+height}px`,left:`${offsetX+x+width/2}px`,transform:`translateX(-50%) scale(${reverseScale}) translateY(0.25em)`})}\">\n      ${round(width)} x ${round(height)}\n    </div>\n  `)({nodeSize:this.selectedNode.absoluteBoundingBox,offsetX:-canvasSize.x,offsetY:-canvasSize.y,reverseScale:reverseScale})}\n            ${lit_html_y`\n            <svg\n              class=\"guides\"\n              viewBox=\"0 0 5 5\"\n              width=\"5\"\n              height=\"5\"\n              style=${style_map_i({left:-canvasSize.x+\"px\",top:-canvasSize.y+\"px\",strokeWidth:guideThickness})}\n            >\n              ${this.selectedNode&&Outline({node:this.selectedNode,selected:!0,computedThickness:computedGuideThickness*reverseScale})}\n\n              ${ViewerMixin_classPrivateFieldGet(this,_flattenedNodes).map((node=>{var _a;return node.id===(null===(_a=this.selectedNode)||void 0===_a?void 0:_a.id)?null:lit_html_y`\n                  <g>\n                    ${Outline({node:node,computedThickness:computedGuideThickness*reverseScale,onClick:ViewerMixin_classPrivateFieldGet(this,_handleNodeClick).call(this,node)})}\n                    ${this.selectedNode&&Guides({node:node,distanceTo:this.selectedNode,reverseScale:reverseScale,fontSize:computedGuideTooltipFontSize})}\n                  </g>\n                `}))}\n            </svg>\n          `}\n          </div>\n          ${View({node:this.selectedNode,onClose:this.deselectNode})}\n          ${Footer(this.getMetadata())}\n        </div>\n      `}getMetadata(){}connectedCallback(){super.connectedCallback(),this.resetZoom()}updated(changedProperties){super.updated(changedProperties)}__updateTree(node){if(\"CANVAS\"!==node.type&&\"FRAME\"!==node.type&&\"COMPONENT\"!==node.type&&\"COMPONENT_SET\"!==node.type)throw new Error(\"Cannot update node tree: Top level node MUST be one of CANVAS, FRAME, COMPONENT, or COMPONENT_SET\");ViewerMixin_classPrivateFieldSet(this,_canvasSize,\"CANVAS\"===node.type?function getCanvasSize(node){const left=[],right=[],top=[],bottom=[];for(const child of node.children){if(\"FRAME\"!==child.type&&\"COMPONENT\"!==child.type)continue;const{x:x,y:y,width:width,height:height}=child.absoluteBoundingBox;left.push(x),right.push(x+width),top.push(y),bottom.push(y+height)}const minX=Math.min(...left),minY=Math.min(...top);return{x:minX,y:minY,width:Math.abs(Math.max(...right)-minX),height:Math.abs(Math.min(...bottom)-minY)}}(node):node.absoluteBoundingBox),ViewerMixin_classPrivateFieldSet(this,_flattenedNodes,flattenNode(node)),this.requestUpdate()}__updateEffectMargins(){if(!this.__images)return;const containers=Object.keys(this.__images).map(ViewerMixin_classPrivateFieldGet(this,_getNodeById)).filter((n=>!!n));ViewerMixin_classPrivateFieldSet(this,_effectMargins,containers.reduce(((margin,node)=>\"absoluteBoundingBox\"in node?Object.assign(Object.assign({},margin),{[node.id]:getEffectMargin(node,flattenNode(node))}):margin),{})),this.requestUpdate()}resetZoom(){if(ViewerMixin_classPrivateFieldGet(this,_canvasSize)){const{width:width,height:height}=ViewerMixin_classPrivateFieldGet(this,_canvasSize),{width:elementWidth,height:elementHeight}=this.getBoundingClientRect(),wDiff=elementWidth/(width+2*this.zoomMargin),hDiff=elementHeight/(height+2*this.zoomMargin);this.scale=Math.min(wDiff,hDiff,1)}}}return _canvasSize=new WeakMap,_effectMargins=new WeakMap,_flattenedNodes=new WeakMap,_handleNodeClick=new WeakMap,_getNodeById=new WeakMap,ViewerMixin_decorate([property_e({type:Number,attribute:\"zoom-margin\"})],Viewer.prototype,\"zoomMargin\",void 0),ViewerMixin_decorate([property_e({type:String,attribute:\"link\"})],Viewer.prototype,\"link\",void 0),Viewer};function getEffectMargin(container,nodes){const points=nodes.map((node=>{if(!(\"effects\"in node))return{top:node.absoluteBoundingBox.y,right:node.absoluteBoundingBox.x+node.absoluteBoundingBox.width,bottom:node.absoluteBoundingBox.y+node.absoluteBoundingBox.height,left:node.absoluteBoundingBox.x};const blurRadiuses=node.effects.filter((effect=>effect.visible&&\"LAYER_BLUR\"===effect.type)).map((effect=>effect.radius)),shadowMargins=node.effects.filter((effect=>effect.visible&&\"DROP_SHADOW\"===effect.type&&!!effect.offset)).map((effect=>({left:effect.radius-effect.offset.x,top:effect.radius-effect.offset.y,right:effect.radius+effect.offset.x,bottom:effect.radius+effect.offset.y}))),margin_top=Math.max(0,...blurRadiuses,...shadowMargins.map((margin=>margin.top))),margin_right=Math.max(0,...blurRadiuses,...shadowMargins.map((margin=>margin.right))),margin_bottom=Math.max(0,...blurRadiuses,...shadowMargins.map((margin=>margin.bottom))),margin_left=Math.max(0,...blurRadiuses,...shadowMargins.map((margin=>margin.left)));return{top:node.absoluteBoundingBox.y-margin_top,right:node.absoluteBoundingBox.x+node.absoluteBoundingBox.width+margin_right,bottom:node.absoluteBoundingBox.y+node.absoluteBoundingBox.height+margin_bottom,left:node.absoluteBoundingBox.x-margin_left}})),bounds_top=Math.min(...points.map((p=>p.top))),bounds_right=Math.max(...points.map((p=>p.right))),bounds_bottom=Math.max(...points.map((p=>p.bottom))),bounds_left=Math.min(...points.map((p=>p.left)));return{top:container.absoluteBoundingBox.y-bounds_top,right:bounds_right-container.absoluteBoundingBox.x-container.absoluteBoundingBox.width,bottom:bounds_bottom-container.absoluteBoundingBox.y-container.absoluteBoundingBox.height,left:container.absoluteBoundingBox.x-bounds_left}}function flattenNode(node,depth=0){return\"absoluteBoundingBox\"in node?\"children\"in node&&0!==node.children.length?[Object.assign(Object.assign({},node),{depth:depth}),...node.children.map((child=>flattenNode(child,depth+1))).flat()]:[Object.assign(Object.assign({},node),{depth:depth})]:node.children.map((child=>flattenNode(child,depth+1))).flat()}var FigspecFrameViewer_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class FigspecFrameViewer_FigspecFrameViewer extends(ViewerMixin(lit_element_s)){constructor(){super(...arguments),this.nodes=null,this.renderedImage=null}get isMovable(){return!!(this.nodes&&this.renderedImage&&this.documentNode)}get documentNode(){if(!this.nodes)return null;const documentNode=Object.values(this.nodes.nodes)[0];return documentNode&&\"absoluteBoundingBox\"in documentNode.document?documentNode.document:null}get __images(){return this.documentNode&&this.renderedImage?{[this.documentNode.id]:this.renderedImage}:{}}get error(){return this.nodes&&this.renderedImage?this.documentNode?super.error?super.error:void 0:ErrorMessage({title:\"Parameter Error\",children:$`\n          <span> Document node is empty or does not have size. </span>\n        `}):ErrorMessage({title:\"Parameter error\",children:$`<span>\n          Both <code>nodes</code> and <code>rendered-image</code> are required.\n        </span>`})}getMetadata(){return{fileName:this.nodes.name,timestamp:this.nodes.lastModified,link:this.link}}connectedCallback(){super.connectedCallback(),this.documentNode&&(this.__updateTree(this.documentNode),this.__updateEffectMargins(),this.resetZoom())}updated(changedProperties){if(super.updated(changedProperties),changedProperties.has(\"nodes\")){if(!this.documentNode)return;this.__updateTree(this.documentNode),this.resetZoom()}changedProperties.has(\"renderedImage\")&&this.__updateEffectMargins()}}FigspecFrameViewer_decorate([property_e({type:Object})],FigspecFrameViewer_FigspecFrameViewer.prototype,\"nodes\",void 0),FigspecFrameViewer_decorate([property_e({type:String,attribute:\"rendered-image\"})],FigspecFrameViewer_FigspecFrameViewer.prototype,\"renderedImage\",void 0);var _selectFirstPage,_handlePageChange,FigspecFileViewer_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FigspecFileViewer_classPrivateFieldGet=function(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError(\"attempted to get private field on non-instance\");return privateMap.get(receiver)};class FigspecFileViewer_FigspecFileViewer extends(ViewerMixin(lit_element_s)){constructor(){super(...arguments),this.documentNode=null,this.renderedImages=null,this.selectedPage=null,_selectFirstPage.set(this,(()=>{var _a;this.documentNode?this.selectedPage=null!==(_a=this.documentNode.document.children.filter((c=>\"CANVAS\"===c.type))[0])&&void 0!==_a?_a:null:this.selectedPage=null})),_handlePageChange.set(this,(ev=>{var _a,_b;const target=ev.currentTarget;this.selectedPage=null!==(_b=null===(_a=this.documentNode)||void 0===_a?void 0:_a.document.children.find((c=>c.id===target.value)))&&void 0!==_b?_b:null,this.selectedPage&&(this.__updateTree(this.selectedPage),this.resetZoom(),this.__updateEffectMargins(),this.panX=0,this.panY=0)}))}get isMovable(){return!(!this.renderedImages||!this.documentNode)}get __images(){return this.renderedImages||{}}get error(){return this.documentNode&&this.renderedImages?super.error?super.error:void 0:ErrorMessage({title:\"Parameter error\",children:$`<span>\n          Both <code>document-node</code> and <code>rendered-images</code> are\n          required.\n        </span>`})}static get styles(){return extendStyles(super.styles,[css_tag_r`\n        :host {\n          --figspec-control-bg-default: #fcfcfc;\n          --figspec-control-fg-default: #333;\n\n          --control-bg: var(\n            --figspec-control-bg,\n            var(--figspec-control-bg-default)\n          );\n          --control-fg: var(\n            --figspec-control-bg,\n            var(--figspec-control-fg-default)\n          );\n          --control-shadow: var(\n            --figspec-control-shadow,\n            0 2px 4px rgba(0, 0, 0, 0.3)\n          );\n          --padding: var(--figspec-control-padding, 8px 16px);\n\n          display: flex;\n          flex-direction: column;\n        }\n\n        @media (prefers-color-scheme: dark) {\n          :host {\n            --figspec-control-bg-default: #222;\n            --figspec-control-fg-default: #fff;\n          }\n        }\n\n        .controls {\n          flex-shrink: 0;\n          padding: var(--padding);\n\n          background-color: var(--control-bg);\n          box-shadow: var(--control-shadow);\n          color: var(--control-fg);\n          z-index: 1;\n        }\n\n        .view {\n          position: relative;\n          flex-grow: 1;\n          flex-shrink: 1;\n        }\n      `])}render(){var _a;return $`\n      <div class=\"controls\">\n        <select @change=${FigspecFileViewer_classPrivateFieldGet(this,_handlePageChange)}>\n          ${null===(_a=this.documentNode)||void 0===_a?void 0:_a.document.children.map((c=>$`<option value=${c.id}>${c.name}</option>`))}\n        </select>\n      </div>\n\n      <div class=\"view\">${super.render()}</div>\n    `}getMetadata(){return{fileName:this.documentNode.name,timestamp:this.documentNode.lastModified,link:this.link}}connectedCallback(){super.connectedCallback(),this.documentNode&&(FigspecFileViewer_classPrivateFieldGet(this,_selectFirstPage).call(this),this.selectedPage&&(this.__updateTree(this.selectedPage),this.resetZoom()))}updated(changedProperties){super.updated(changedProperties),changedProperties.has(\"documentNode\")&&(FigspecFileViewer_classPrivateFieldGet(this,_selectFirstPage).call(this),this.selectedPage&&(this.__updateTree(this.selectedPage),this.resetZoom())),changedProperties.has(\"renderedImages\")&&this.__updateEffectMargins()}}_selectFirstPage=new WeakMap,_handlePageChange=new WeakMap,FigspecFileViewer_decorate([property_e({type:Object,attribute:\"document-node\"})],FigspecFileViewer_FigspecFileViewer.prototype,\"documentNode\",void 0),FigspecFileViewer_decorate([property_e({type:Object,attribute:\"rendered-images\"})],FigspecFileViewer_FigspecFileViewer.prototype,\"renderedImages\",void 0),customElements.get(\"figspec-file-viewer\")||customElements.define(\"figspec-file-viewer\",FigspecFileViewer_FigspecFileViewer),customElements.get(\"figspec-frame-viewer\")||customElements.define(\"figspec-frame-viewer\",FigspecFrameViewer_FigspecFrameViewer);const create_component_t=new Set([\"children\",\"localName\",\"ref\",\"style\",\"className\"]),create_component_e=new WeakMap,create_component_n=(t,n,s,o,i)=>{const l=null==i?void 0:i[n];void 0!==l?s!==o&&((t,n,s)=>{let o=create_component_e.get(t);void 0===o&&create_component_e.set(t,o=new Map);let i=o.get(n);void 0!==s?void 0===i?(o.set(n,i={handleEvent:s}),t.addEventListener(n,i)):i.handleEvent=s:void 0!==i&&(o.delete(n),t.removeEventListener(n,i))})(t,l,s):t[n]=s},create_component_s=(e,s,o,i,l)=>{const c=e.Component,r=e.createElement,d=new Set(Object.keys(null!=i?i:{}));for(const e in o.prototype)e in HTMLElement.prototype||(create_component_t.has(e)?console.warn(`${s} contains property ${e} which is a React reserved property. It will be used by React and not set on the element.`):d.add(e));class h extends c{constructor(){super(...arguments),this.t=null}o(t){if(null!==this.t)for(const e in this.i)create_component_n(this.t,e,this.props[e],t?t[e]:void 0,i)}componentDidMount(){this.o()}componentDidUpdate(t){this.o(t)}render(){const t=this.props.l;void 0!==this.h&&this.u===t||(this.h=e=>{null===this.t&&(this.t=e),null!==t&&((t,e)=>{\"function\"==typeof t?t(e):t.current=e})(t,e),this.u=t});const e={ref:this.h};this.i={};for(const[t,n]of Object.entries(this.props))\"__forwardedRef\"!==t&&(d.has(t)?this.i[t]=n:e[\"className\"===t?\"class\":t]=n);return r(s,e)}}h.displayName=null!=l?l:o.name;const a=e.forwardRef(((t,e)=>r(h,{...t,l:e},null==t?void 0:t.children)));return a.displayName=h.displayName,a};var react=__webpack_require__(0);const es2015_FigspecFrameViewer=create_component_s(react,\"figspec-frame-viewer\",FigspecFrameViewer_FigspecFrameViewer,{onNodeSelect:\"nodeselect\",onPositionChange:\"positionchange\",onScaleChange:\"scalechange\"}),es2015_FigspecFileViewer=create_component_s(react,\"figspec-file-viewer\",FigspecFileViewer_FigspecFileViewer,{onNodeSelect:\"nodeselect\",onPositionChange:\"positionchange\",onScaleChange:\"scalechange\"})},976:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),function(process){__webpack_require__.d(__webpack_exports__,\"Figspec\",(function(){return Figspec}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_figspec_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(971),_storybook_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(319),_storybook_theming__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43),_Figma__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(461),__makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,\"raw\",{value:raw}):cooked.raw=raw,cooked},__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},fullscreen=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__.c)(templateObject_1||(templateObject_1=__makeTemplateObject([\"\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n\"],[\"\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n\"])));function unwrapJson(res){return 200!==res.status?Promise.reject(res.statusText):res.json()}var templateObject_1,Figspec=function(_a){var config=_a.config,_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({state:\"loading\"}),state=_b[0],setState=_b[1],fetchDetails=function(signal){return __awaiter(void 0,void 0,void 0,(function(){var match,fileKey,url,nodeId,accessToken,headers,nodeUrl,imageUrl,documentNode,frames_1,images_1,_a,nodes,images,err_1;return __generator(this,(function(_b){switch(_b.label){case 0:setState({state:\"loading\"}),_b.label=1;case 1:if(_b.trys.push([1,6,,7]),!(match=config.url.match(_Figma__WEBPACK_IMPORTED_MODULE_4__.b)))throw new Error(config.url+\" is not a valid Figma URL.\");if(fileKey=match[3],url=new URL(config.url),nodeId=url.searchParams.get(\"node-id\"),accessToken=function getAccessToken(cfg){var _a;if(cfg.accessToken)return cfg.accessToken;try{return null!==(_a=process.env.STORYBOOK_FIGMA_ACCESS_TOKEN)&&void 0!==_a?_a:null}catch(err){return null}}(config),!accessToken)throw new Error(\"Personal Access Token is required.\");return headers={\"X-FIGMA-TOKEN\":accessToken},nodeUrl=new URL(\"https://api.figma.com/v1/files/\"+fileKey),(imageUrl=new URL(\"https://api.figma.com/v1/images/\"+fileKey)).searchParams.set(\"format\",\"svg\"),nodeId?[3,4]:[4,fetch(nodeUrl.href,{headers:headers,signal:signal}).then(unwrapJson)];case 2:return documentNode=_b.sent(),frames_1=listAllFrames(documentNode.document),imageUrl.searchParams.set(\"ids\",frames_1.map((function(frame){return frame.id})).join(\",\")),[4,fetch(imageUrl.href,{headers:headers,signal:signal}).then(unwrapJson)];case 3:return images_1=_b.sent(),setState({state:\"fetched\",value:{type:\"file\",props:{documentNode:documentNode,renderedImages:images_1.images,link:config.url}}}),[2];case 4:return nodeUrl.pathname+=\"/nodes\",nodeUrl.searchParams.set(\"ids\",nodeId),imageUrl.searchParams.set(\"ids\",nodeId),[4,Promise.all([fetch(nodeUrl.href,{headers:headers,signal:signal}).then(unwrapJson),fetch(imageUrl.href,{headers:headers,signal:signal}).then(unwrapJson)])];case 5:return _a=_b.sent(),nodes=_a[0],images=_a[1],setState({state:\"fetched\",value:{type:\"frame\",props:{nodes:nodes,renderedImage:Object.values(images.images)[0],link:config.url}}}),[3,7];case 6:return(err_1=_b.sent())instanceof DOMException&&err_1.code===DOMException.ABORT_ERR?[2]:(console.error(err_1),setState({state:\"failed\",error:err_1 instanceof Error?err_1.message:String(err_1)}),[3,7]);case 7:return[2]}}))}))};switch(Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var fulfilled=!1,fulfil=function(){fulfilled=!0},ac=new AbortController;return fetchDetails(ac.signal).then(fulfil,fulfil),function(){fulfilled||ac.abort()}}),[config.url]),state.state){case\"loading\":return Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__.d)(_storybook_components__WEBPACK_IMPORTED_MODULE_2__.a,null,Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__.d)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,\"Loading Figma file...\"));case\"failed\":return Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__.d)(_storybook_components__WEBPACK_IMPORTED_MODULE_2__.a,null,Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__.d)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,\"Failed to load Figma file\"),Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__.d)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,state.error));case\"fetched\":return\"file\"===state.value.type?Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__.d)(_figspec_react__WEBPACK_IMPORTED_MODULE_1__.a,__assign({css:fullscreen},state.value.props)):Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__.d)(_figspec_react__WEBPACK_IMPORTED_MODULE_1__.b,__assign({css:fullscreen},state.value.props))}};function listAllFrames(node){return\"absoluteBoundingBox\"in node?[node]:node.children&&0!==node.children.length?node.children.map(listAllFrames).flat():[]}__webpack_exports__.default=Figspec}.call(this,__webpack_require__(182))}}]);","name":"6.e5c85997bf1f704e062c.manager.bundle.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[6],{\n\n/***/ 971:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* binding */ es2015_FigspecFrameViewer; });\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ es2015_FigspecFileViewer; });\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/css-tag.js\n/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst css_tag_t=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,css_tag_e=Symbol(),css_tag_n=new Map;class css_tag_s{constructor(t,n){if(this._$cssResult$=!0,n!==css_tag_e)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t}get styleSheet(){let e=css_tag_n.get(this.cssText);return css_tag_t&&void 0===e&&(css_tag_n.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const css_tag_o=t=>new css_tag_s(\"string\"==typeof t?t:t+\"\",css_tag_e),css_tag_r=(t,...n)=>{const o=1===t.length?t[0]:n.reduce(((e,n,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(n)+t[s+1]),t[0]);return new css_tag_s(o,css_tag_e)},css_tag_i=(e,n)=>{css_tag_t?e.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((t=>{const n=document.createElement(\"style\"),s=window.litNonce;void 0!==s&&n.setAttribute(\"nonce\",s),n.textContent=t.cssText,e.appendChild(n)}))},S=css_tag_t?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const n of t.cssRules)e+=n.cssText;return css_tag_o(e)})(t):t;\n//# sourceMappingURL=css-tag.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/reactive-element.js\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var reactive_element_s;const reactive_element_e=window.trustedTypes,reactive_element_r=reactive_element_e?reactive_element_e.emptyScript:\"\",h=window.reactiveElementPolyfillSupport,reactive_element_o={toAttribute(t,i){switch(i){case Boolean:t=t?reactive_element_r:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},reactive_element_n=(t,i)=>i!==t&&(i==i||t==t),reactive_element_l={attribute:!0,type:String,converter:reactive_element_o,reflect:!1,hasChanged:reactive_element_n};class reactive_element_a extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var i;null!==(i=this.l)&&void 0!==i||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Eh(s,i);void 0!==e&&(this._$Eu.set(e,s),t.push(e))})),t}static createProperty(t,i=reactive_element_l){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s=\"symbol\"==typeof t?Symbol():\"__\"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||reactive_element_l}static finalize(){if(this.hasOwnProperty(\"finalized\"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty(\"properties\")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(S(i))}else void 0!==i&&s.push(S(i));return s}static _$Eh(t,i){const s=i.attribute;return!1===s?void 0:\"string\"==typeof s?s:\"string\"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var i,s;(null!==(i=this._$Eg)&&void 0!==i?i:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var i;null===(i=this._$Eg)||void 0===i||i.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Et.set(i,this[i]),delete this[i])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return css_tag_i(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$ES(t,i,s=reactive_element_l){var e,r;const h=this.constructor._$Eh(t,s);if(void 0!==h&&!0===s.reflect){const n=(null!==(r=null===(e=s.converter)||void 0===e?void 0:e.toAttribute)&&void 0!==r?r:reactive_element_o.toAttribute)(i,s.type);this._$Ei=t,null==n?this.removeAttribute(h):this.setAttribute(h,n),this._$Ei=null}}_$AK(t,i){var s,e,r;const h=this.constructor,n=h._$Eu.get(t);if(void 0!==n&&this._$Ei!==n){const t=h.getPropertyOptions(n),l=t.converter,a=null!==(r=null!==(e=null===(s=l)||void 0===s?void 0:s.fromAttribute)&&void 0!==e?e:\"function\"==typeof l?l:null)&&void 0!==r?r:reactive_element_o.fromAttribute;this._$Ei=n,this[n]=a(i,t.type),this._$Ei=null}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||reactive_element_n)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$Ei!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,i)=>this[i]=t)),this._$Et=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$EU()}catch(t){throw i=!1,this._$EU(),t}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;null===(i=this._$Eg)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,i)=>this._$ES(i,this[i],t))),this._$EC=void 0),this._$EU()}updated(t){}firstUpdated(t){}}reactive_element_a.finalized=!0,reactive_element_a.elementProperties=new Map,reactive_element_a.elementStyles=[],reactive_element_a.shadowRootOptions={mode:\"open\"},null==h||h({ReactiveElement:reactive_element_a}),(null!==(reactive_element_s=globalThis.reactiveElementVersions)&&void 0!==reactive_element_s?reactive_element_s:globalThis.reactiveElementVersions=[]).push(\"1.3.2\");\n//# sourceMappingURL=reactive-element.js.map\n\n// CONCATENATED MODULE: ./node_modules/lit-html/lit-html.js\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar lit_html_t;const lit_html_i=globalThis.trustedTypes,lit_html_s=lit_html_i?lit_html_i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,lit_html_e=`lit$${(Math.random()+\"\").slice(9)}$`,lit_html_o=\"?\"+lit_html_e,lit_html_n=`<${lit_html_o}>`,lit_html_l=document,lit_html_h=(t=\"\")=>lit_html_l.createComment(t),lit_html_r=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,d=Array.isArray,u=t=>{var i;return d(t)||\"function\"==typeof(null===(i=t)||void 0===i?void 0:i[Symbol.iterator])},lit_html_c=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,lit_html_a=/>/g,f=/>|[ \t\\n\f\\r](?:([^\\s\"'>=/]+)([ \t\\n\f\\r]*=[ \t\\n\f\\r]*(?:[^ \t\\n\f\\r\"'`<>=]|(\"|')|))|$)/g,_=/'/g,m=/\"/g,g=/^(?:script|style|textarea|title)$/i,p=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),$=p(1),lit_html_y=p(2),b=Symbol.for(\"lit-noChange\"),w=Symbol.for(\"lit-nothing\"),T=new WeakMap,lit_html_x=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(lit_html_h(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l},A=lit_html_l.createTreeWalker(lit_html_l,129,null,!1),C=(t,i)=>{const o=t.length-1,l=[];let h,r=2===i?\"<svg>\":\"\",d=lit_html_c;for(let i=0;i<o;i++){const s=t[i];let o,u,p=-1,$=0;for(;$<s.length&&(d.lastIndex=$,u=d.exec(s),null!==u);)$=d.lastIndex,d===lit_html_c?\"!--\"===u[1]?d=v:void 0!==u[1]?d=lit_html_a:void 0!==u[2]?(g.test(u[2])&&(h=RegExp(\"</\"+u[2],\"g\")),d=f):void 0!==u[3]&&(d=f):d===f?\">\"===u[0]?(d=null!=h?h:lit_html_c,p=-1):void 0===u[1]?p=-2:(p=d.lastIndex-u[2].length,o=u[1],d=void 0===u[3]?f:'\"'===u[3]?m:_):d===m||d===_?d=f:d===v||d===lit_html_a?d=lit_html_c:(d=f,h=void 0);const y=d===f&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=d===lit_html_c?s+lit_html_n:p>=0?(l.push(o),s.slice(0,p)+\"$lit$\"+s.slice(p)+lit_html_e+y):s+lit_html_e+(-2===p?(l.push(void 0),i):y)}const u=r+(t[o]||\"<?>\")+(2===i?\"</svg>\":\"\");if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return[void 0!==lit_html_s?lit_html_s.createHTML(u):u,l]};class E{constructor({strings:t,_$litType$:s},n){let l;this.parts=[];let r=0,d=0;const u=t.length-1,c=this.parts,[v,a]=C(t,s);if(this.el=E.createElement(v,n),A.currentNode=this.el.content,2===s){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){const t=[];for(const i of l.getAttributeNames())if(i.endsWith(\"$lit$\")||i.startsWith(lit_html_e)){const s=a[d++];if(t.push(i),void 0!==s){const t=l.getAttribute(s.toLowerCase()+\"$lit$\").split(lit_html_e),i=/([.?@])?(.*)/.exec(s);c.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?M:\"?\"===i[1]?H:\"@\"===i[1]?I:lit_html_S})}else c.push({type:6,index:r})}for(const i of t)l.removeAttribute(i)}if(g.test(l.tagName)){const t=l.textContent.split(lit_html_e),s=t.length-1;if(s>0){l.textContent=lit_html_i?lit_html_i.emptyScript:\"\";for(let i=0;i<s;i++)l.append(t[i],lit_html_h()),A.nextNode(),c.push({type:2,index:++r});l.append(t[s],lit_html_h())}}}else if(8===l.nodeType)if(l.data===lit_html_o)c.push({type:2,index:r});else{let t=-1;for(;-1!==(t=l.data.indexOf(lit_html_e,t+1));)c.push({type:7,index:r}),t+=lit_html_e.length-1}r++}}static createElement(t,i){const s=lit_html_l.createElement(\"template\");return s.innerHTML=t,s}}function P(t,i,s=t,e){var o,n,l,h;if(i===b)return i;let d=void 0!==e?null===(o=s._$Cl)||void 0===o?void 0:o[e]:s._$Cu;const u=lit_html_r(i)?void 0:i._$litDirective$;return(null==d?void 0:d.constructor)!==u&&(null===(n=null==d?void 0:d._$AO)||void 0===n||n.call(d,!1),void 0===u?d=void 0:(d=new u(t),d._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Cl)&&void 0!==l?l:h._$Cl=[])[e]=d:s._$Cu=d),void 0!==d&&(i=P(t,d._$AS(t,i.values),d,e)),i}class V{constructor(t,i){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:lit_html_l).importNode(s,!0);A.currentNode=o;let n=A.nextNode(),h=0,r=0,d=e[0];for(;void 0!==d;){if(h===d.index){let i;2===d.type?i=new N(n,n.nextSibling,this,t):1===d.type?i=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(i=new L(n,this,t)),this.v.push(i),d=e[++r]}h!==(null==d?void 0:d.index)&&(n=A.nextNode(),h++)}return o}m(t){let i=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class N{constructor(t,i,s,e){var o;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cg=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=P(this,t,i),lit_html_r(t)?t===w||null==t||\"\"===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):u(t)?this.S(t):this.$(t)}M(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==w&&lit_html_r(this._$AH)?this._$AA.nextSibling.data=t:this.k(lit_html_l.createTextNode(t)),this._$AH=t}T(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=E.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.m(s);else{const t=new V(o,this),i=t.p(this.options);t.m(s),this.k(i),this._$AH=t}}_$AC(t){let i=T.get(t.strings);return void 0===i&&T.set(t.strings,i=new E(t)),i}S(t){d(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new N(this.M(lit_html_h()),this.M(lit_html_h()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cg=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class lit_html_S{constructor(t,i,s,e,o){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=P(this,t,i,0),n=!lit_html_r(t)||t!==this._$AH&&t!==b,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=P(this,e[s+l],i,l),h===b&&(h=this._$AH[l]),n||(n=!lit_html_r(h)||h!==this._$AH[l]),h===w?t=w:t!==w&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.C(t)}C(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class M extends lit_html_S{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===w?void 0:t}}const k=lit_html_i?lit_html_i.emptyScript:\"\";class H extends lit_html_S{constructor(){super(...arguments),this.type=4}C(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends lit_html_S{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:w)===b)return;const e=this._$AH,o=t===w&&e!==w||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==w&&(e===w||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}const R={L:\"$lit$\",P:lit_html_e,V:lit_html_o,I:1,N:C,R:V,j:u,D:P,H:N,F:lit_html_S,O:H,W:I,B:M,Z:L},z=window.litHtmlPolyfillSupport;null==z||z(E,N),(null!==(lit_html_t=globalThis.litHtmlVersions)&&void 0!==lit_html_t?lit_html_t:globalThis.litHtmlVersions=[]).push(\"2.2.3\");\n//# sourceMappingURL=lit-html.js.map\n\n// CONCATENATED MODULE: ./node_modules/lit-element/lit-element.js\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var lit_element_l,lit_element_o;const lit_element_r=reactive_element_a;class lit_element_s extends reactive_element_a{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=lit_html_x(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return b}}lit_element_s.finalized=!0,lit_element_s._$litElement$=!0,null===(lit_element_l=globalThis.litElementHydrateSupport)||void 0===lit_element_l||lit_element_l.call(globalThis,{LitElement:lit_element_s});const lit_element_n=globalThis.litElementPolyfillSupport;null==lit_element_n||lit_element_n({LitElement:lit_element_s});const lit_element_h={_$AK:(t,e,i)=>{t._$AK(e,i)},_$AL:t=>t._$AL};(null!==(lit_element_o=globalThis.litElementVersions)&&void 0!==lit_element_o?lit_element_o:globalThis.litElementVersions=[]).push(\"3.2.0\");\n//# sourceMappingURL=lit-element.js.map\n\n// CONCATENATED MODULE: ./node_modules/lit/index.js\n\n//# sourceMappingURL=index.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/decorators/custom-element.js\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst custom_element_n=n=>e=>\"function\"==typeof e?((n,e)=>(window.customElements.define(n,e),e))(n,e):((n,e)=>{const{kind:t,elements:i}=e;return{kind:t,elements:i,finisher(e){window.customElements.define(n,e)}}})(n,e);\n//# sourceMappingURL=custom-element.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/decorators/property.js\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst property_i=(i,e)=>\"method\"===e.kind&&e.descriptor&&!(\"value\"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,i)}}:{kind:\"field\",key:Symbol(),placement:\"own\",descriptor:{},originalKey:e.key,initializer(){\"function\"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,i)}};function property_e(e){return(n,t)=>void 0!==t?((i,e,n)=>{e.constructor.createProperty(n,i)})(e,n,t):property_i(e,n)}\n//# sourceMappingURL=property.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/decorators/state.js\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function state_t(t){return property_e({...t,state:!0})}\n//# sourceMappingURL=state.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/decorators/base.js\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst base_e=(e,t,o)=>{Object.defineProperty(t,o,e)},base_t=(e,t)=>({kind:\"method\",placement:\"prototype\",key:t.key,descriptor:e}),base_o=({finisher:e,descriptor:t})=>(o,n)=>{var r;if(void 0===n){const n=null!==(r=o.originalKey)&&void 0!==r?r:o.key,i=null!=t?{kind:\"method\",placement:\"prototype\",key:n,descriptor:t(o.key)}:{...o,key:n};return null!=e&&(i.finisher=function(t){e(t,n)}),i}{const r=o.constructor;void 0!==t&&Object.defineProperty(o,n,t(n)),null==e||e(r,n)}};\n//# sourceMappingURL=base.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/decorators/event-options.js\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function event_options_e(e){return base_o({finisher:(r,t)=>{Object.assign(r.prototype[t],e)}})}\n//# sourceMappingURL=event-options.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/decorators/query.js\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function query_i(i,n){return base_o({descriptor:o=>{const t={get(){var o,n;return null!==(n=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i))&&void 0!==n?n:null},enumerable:!0,configurable:!0};if(n){const n=\"symbol\"==typeof o?Symbol():\"__\"+o;t.get=function(){var o,t;return void 0===this[n]&&(this[n]=null!==(t=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i))&&void 0!==t?t:null),this[n]}}return t}})}\n//# sourceMappingURL=query.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/decorators/query-all.js\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function query_all_e(e){return base_o({descriptor:r=>({get(){var r,o;return null!==(o=null===(r=this.renderRoot)||void 0===r?void 0:r.querySelectorAll(e))&&void 0!==o?o:[]},enumerable:!0,configurable:!0})})}\n//# sourceMappingURL=query-all.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/decorators/query-async.js\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction query_async_e(e){return base_o({descriptor:r=>({async get(){var r;return await this.updateComplete,null===(r=this.renderRoot)||void 0===r?void 0:r.querySelector(e)},enumerable:!0,configurable:!0})})}\n//# sourceMappingURL=query-async.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/decorators/query-assigned-elements.js\n\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var query_assigned_elements_n;const query_assigned_elements_e=null!=(null===(query_assigned_elements_n=window.HTMLSlotElement)||void 0===query_assigned_elements_n?void 0:query_assigned_elements_n.prototype.assignedElements)?(o,n)=>o.assignedElements(n):(o,n)=>o.assignedNodes(n).filter((o=>o.nodeType===Node.ELEMENT_NODE));function query_assigned_elements_l(n){const{slot:l,selector:t}=null!=n?n:{};return base_o({descriptor:o=>({get(){var o;const r=\"slot\"+(l?`[name=${l}]`:\":not([name])\"),i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(r),s=null!=i?query_assigned_elements_e(i,n):[];return t?s.filter((o=>o.matches(t))):s},enumerable:!0,configurable:!0})})}\n//# sourceMappingURL=query-assigned-elements.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit/reactive-element/decorators/query-assigned-nodes.js\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function query_assigned_nodes_o(o,n,r){let l,s=o;return\"object\"==typeof o?(s=o.slot,l=o):l={flatten:n},r?query_assigned_elements_l({slot:s,flatten:n,selector:r}):base_o({descriptor:e=>({get(){var e,t;const o=\"slot\"+(s?`[name=${s}]`:\":not([name])\"),n=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(o);return null!==(t=null==n?void 0:n.assignedNodes(l))&&void 0!==t?t:[]},enumerable:!0,configurable:!0})})}\n//# sourceMappingURL=query-assigned-nodes.js.map\n\n// CONCATENATED MODULE: ./node_modules/lit/decorators.js\n\n//# sourceMappingURL=decorators.js.map\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/ErrorMessage.js\n\nconst ErrorMessage = ({ title, children }) => $ `\n  <div class=\"error-background\">\n    <div class=\"error-container\">\n      <span class=\"error-title\"\n        ><span class=\"error-badge\">Error</span>${title}</span\n      >\n      <span class=\"error-description\">${children}</span>\n    </div>\n  </div>\n`;\nconst ErrorMessage_styles = css_tag_r `\n  .error-background {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    background: var(--error-bg);\n    color: var(--error-fg);\n  }\n\n  .error-container {\n    max-width: 800px;\n    margin: auto;\n    padding: 1em;\n  }\n\n  .error-badge {\n    display: inline-block;\n    font-size: 0.8em;\n    padding: 0.2em 0.5em;\n    margin-inline-end: 0.5em;\n\n    background: var(--error-color);\n    border-radius: 2px;\n    color: var(--error-bg);\n    text-transform: uppercase;\n  }\n\n  .error-title {\n    display: block;\n    font-size: 1.2em;\n\n    font-weight: bold;\n    text-transform: capitalize;\n  }\n\n  .error-description {\n    display: block;\n    margin-block-start: 1em;\n  }\n`;\n\n// CONCATENATED MODULE: ./node_modules/lit-html/directive.js\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst directive_t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},directive_e=t=>(...e)=>({_$litDirective$:t,values:e});class directive_i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}\n//# sourceMappingURL=directive.js.map\n\n// CONCATENATED MODULE: ./node_modules/lit-html/directives/style-map.js\n\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const style_map_i=directive_e(class extends directive_i{constructor(t){var e;if(super(t),t.type!==directive_t.ATTRIBUTE||\"style\"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error(\"The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.\")}render(t){return Object.keys(t).reduce(((e,r)=>{const s=t[r];return null==s?e:e+`${r=r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,\"-$&\").toLowerCase()}:${s};`}),\"\")}update(e,[r]){const{style:s}=e.element;if(void 0===this.ct){this.ct=new Set;for(const t in r)this.ct.add(t);return this.render(r)}this.ct.forEach((t=>{null==r[t]&&(this.ct.delete(t),t.includes(\"-\")?s.removeProperty(t):s[t]=\"\")}));for(const t in r){const e=r[t];null!=e&&(this.ct.add(t),t.includes(\"-\")?s.setProperty(t,e):s[t]=e)}return b}});\n//# sourceMappingURL=style-map.js.map\n\n// CONCATENATED MODULE: ./node_modules/lit/directives/style-map.js\n\n//# sourceMappingURL=style-map.js.map\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/utils.js\nfunction absRect(rect) {\n    return {\n        top: rect.y,\n        right: rect.x + rect.width,\n        bottom: rect.y + rect.height,\n        left: rect.x,\n    };\n}\nfunction getDistanceGuides(selected, compared) {\n    const a = absRect(selected);\n    const b = absRect(compared);\n    const isYIntersecting = !(a.top > b.bottom || a.bottom < b.top);\n    const isXIntersecting = !(a.left > b.right || a.right < b.left);\n    // Rects are intersecting.\n    if (isXIntersecting && isYIntersecting) {\n        // Center of intersecting region.\n        const intersectCenter = {\n            x: (Math.max(a.left, b.left) + Math.min(a.right, b.right)) / 2,\n            y: (Math.max(a.top, b.top) + Math.min(a.bottom, b.bottom)) / 2,\n        };\n        return [\n            {\n                points: [\n                    { x: a.left, y: intersectCenter.y },\n                    { x: b.left, y: intersectCenter.y },\n                ],\n            },\n            {\n                points: [\n                    {\n                        x: a.right,\n                        y: intersectCenter.y,\n                    },\n                    { x: b.right, y: intersectCenter.y },\n                ],\n            },\n            {\n                points: [\n                    { y: a.top, x: intersectCenter.x },\n                    { y: b.top, x: intersectCenter.x },\n                ],\n            },\n            {\n                points: [\n                    {\n                        y: a.bottom,\n                        x: intersectCenter.x,\n                    },\n                    { y: b.bottom, x: intersectCenter.x },\n                ],\n            },\n        ];\n    }\n    const isALeft = a.left > b.right;\n    const isABelow = a.top > b.bottom;\n    const selectedCenter = {\n        x: selected.x + selected.width / 2,\n        y: selected.y + selected.height / 2,\n    };\n    const guides = [\n        !isXIntersecting\n            ? {\n                points: [\n                    { x: isALeft ? a.left : a.right, y: selectedCenter.y },\n                    { x: isALeft ? b.right : b.left, y: selectedCenter.y },\n                ],\n                bisector: !isYIntersecting\n                    ? [\n                        { x: isALeft ? b.right : b.left, y: selectedCenter.y },\n                        {\n                            x: isALeft ? b.right : b.left,\n                            y: isABelow ? b.bottom : b.top,\n                        },\n                    ]\n                    : void 0,\n            }\n            : null,\n        !isYIntersecting\n            ? {\n                points: [\n                    { y: isABelow ? a.top : a.bottom, x: selectedCenter.x },\n                    { y: isABelow ? b.bottom : b.top, x: selectedCenter.x },\n                ],\n                bisector: !isXIntersecting\n                    ? [\n                        { y: isABelow ? b.bottom : b.top, x: selectedCenter.x },\n                        {\n                            y: isABelow ? b.bottom : b.top,\n                            x: isALeft ? b.right : b.left,\n                        },\n                    ]\n                    : void 0,\n            }\n            : null,\n    ];\n    return guides.filter((x) => !!x);\n}\n/**\n * x.xxxxx... -> x.xx\n */\nfunction round(n) {\n    return Math.round(n * 100) / 100;\n}\nfunction extendStyles(left, right) {\n    return [...stylesToArray(left), ...stylesToArray(right)];\n}\nfunction stylesToArray(styles) {\n    if (!styles) {\n        return [];\n    }\n    if (styles instanceof Array) {\n        return styles;\n    }\n    return [styles];\n}\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/NodeSelectableMixin.js\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nconst NodeSelectableMixin = (superClass) => {\n    class NodeSelectable extends superClass {\n        constructor(...args) {\n            super(...args);\n            this.selectedNode = null;\n        }\n        updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has(\"selectedNode\")) {\n                this.dispatchEvent(new CustomEvent(\"nodeselect\", {\n                    detail: {\n                        selectedNode: this.selectedNode,\n                    },\n                }));\n            }\n        }\n    }\n    __decorate([\n        property_e({\n            attribute: false,\n        })\n    ], NodeSelectable.prototype, \"selectedNode\", void 0);\n    return NodeSelectable;\n};\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/TouchGestureMixin.js\nfunction shouldSkipEvent(ev) {\n    return ev.touches.length === 0 || ev.touches.length > 2;\n}\nfunction getDistance(a, b) {\n    return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}\nconst TouchGestureMixin = (superClass) => class CTouchGesture extends superClass {\n    constructor(...args) {\n        super(...args);\n        this.previousTouches = null;\n        this.addEventListener(\"touchstart\", (ev) => {\n            if (shouldSkipEvent(ev)) {\n                return;\n            }\n            ev.preventDefault();\n            this.previousTouches = ev.touches;\n        });\n        this.addEventListener(\"touchend\", (ev) => {\n            if (shouldSkipEvent(ev)) {\n                return;\n            }\n            ev.preventDefault();\n            this.previousTouches = null;\n        });\n        this.addEventListener(\"touchcancel\", (ev) => {\n            if (shouldSkipEvent(ev)) {\n                return;\n            }\n            ev.preventDefault();\n            this.previousTouches = null;\n        });\n        this.addEventListener(\"touchmove\", (ev) => {\n            if (shouldSkipEvent(ev)) {\n                return;\n            }\n            const previousTouches = Array.from(this.previousTouches || []);\n            const currentTouches = Array.from(ev.touches);\n            this.previousTouches = ev.touches;\n            // When one or more than one of touch input sources differs, skip processing.\n            if (currentTouches.length !== previousTouches.length ||\n                !currentTouches.every((t) => previousTouches.some((pt) => pt.identifier === t.identifier))) {\n                return;\n            }\n            // Pan\n            if (currentTouches.length === 1) {\n                this.onTouchPan({\n                    x: currentTouches[0].pageX - previousTouches[0].pageX,\n                    y: currentTouches[0].pageY - previousTouches[0].pageY,\n                });\n                return;\n            }\n            // Pinch\n            this.onTouchPinch(getDistance({\n                x: currentTouches[0].pageX,\n                y: currentTouches[0].pageY,\n            }, {\n                x: previousTouches[0].pageX,\n                y: previousTouches[0].pageY,\n            }));\n            return;\n        });\n    }\n    get isTouching() {\n        return !!(this.previousTouches && this.previousTouches.length > 0);\n    }\n    onTouchPan(delta) { }\n    onTouchPinch(delta) { }\n};\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/PositionedMixin.js\nvar PositionedMixin_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar __classPrivateFieldSet = (undefined && undefined.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\n\n\nconst PositionedMixin = (superClass) => {\n    var _isDragModeOn, _movePanel, _keyDown, _keyUp, _listenToKeyboardEvents;\n    class Positioned extends TouchGestureMixin(superClass) {\n        constructor(...args) {\n            super(...args);\n            this.panX = 0;\n            this.panY = 0;\n            this.scale = 1;\n            this.zoomSpeed = 500;\n            this.panSpeed = 500;\n            _isDragModeOn.set(this, false);\n            _movePanel.set(this, (shiftX, shiftY) => {\n                this.panX += shiftX / this.scale / window.devicePixelRatio;\n                this.panY += shiftY / this.scale / window.devicePixelRatio;\n            });\n            // Enable drag mode when holding the spacebar\n            _keyDown.set(this, (event) => {\n                if (event.code === \"Space\" && !__classPrivateFieldGet(this, _isDragModeOn)) {\n                    __classPrivateFieldSet(this, _isDragModeOn, true);\n                    document.body.style.cursor = \"grab\";\n                }\n            });\n            // Disable drag mode when space lets the spacebar go\n            _keyUp.set(this, (event) => {\n                if (event.code === \"Space\" && __classPrivateFieldGet(this, _isDragModeOn)) {\n                    __classPrivateFieldSet(this, _isDragModeOn, false);\n                    document.body.style.cursor = \"auto\";\n                }\n            });\n            _listenToKeyboardEvents.set(this, () => {\n                document.addEventListener(\"keyup\", __classPrivateFieldGet(this, _keyUp));\n                document.addEventListener(\"keydown\", __classPrivateFieldGet(this, _keyDown));\n            });\n            this.addEventListener(\"wheel\", (ev) => {\n                if (!this.isMovable)\n                    return;\n                ev.preventDefault();\n                if (ev.ctrlKey) {\n                    // Performs zoom when ctrl key is pressed.\n                    let { deltaY } = ev;\n                    if (ev.deltaMode === 1) {\n                        // Firefox quirk\n                        deltaY *= 15;\n                    }\n                    const prevScale = this.scale;\n                    this.scale *= 1 - deltaY / ((1000 - this.zoomSpeed) * 0.5);\n                    // Performs pan to archive \"zoom at the point\" behavior (I don't know how to call it).\n                    const offsetX = ev.offsetX - this.offsetWidth / 2;\n                    const offsetY = ev.offsetY - this.offsetHeight / 2;\n                    this.panX += offsetX / this.scale - offsetX / prevScale;\n                    this.panY += offsetY / this.scale - offsetY / prevScale;\n                }\n                else {\n                    // Performs pan otherwise (to be close to native behavior)\n                    // Adjusting panSpeed in order to make panSpeed=500 to match to the Figma's one.\n                    const speed = this.panSpeed * 0.002;\n                    this.panX -= (ev.deltaX * speed) / this.scale;\n                    this.panY -= (ev.deltaY * speed) / this.scale;\n                }\n            }, \n            // This component prevents every native wheel behavior on it.\n            { passive: false });\n            // Base scale for Safari's GestureEvents\n            let gestureStartScale = 1;\n            this.addEventListener(\"gesturestart\", (ev) => {\n                ev.preventDefault();\n                gestureStartScale = this.scale;\n            });\n            this.addEventListener(\"gesturechange\", (_ev) => {\n                const ev = _ev;\n                ev.preventDefault();\n                // We can't perform zoom-at-the-point due to lack of offsetX/Y in GestureEvent\n                this.scale = gestureStartScale * ev.scale;\n            });\n            this.addEventListener(\"pointermove\", (ev) => {\n                // Performs pan only when middle buttons is pressed.\n                //\n                // 4 ... Auxiliary button (usually the mouse wheel button or middle button)\n                // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\n                if (!(ev.buttons & 4))\n                    return;\n                ev.preventDefault();\n                // Moving amount of middle button+pointer move panning should matches to the actual\n                // pointer travel distance. Since translate goes after scaling, we need to scale\n                // delta too.\n                __classPrivateFieldGet(this, _movePanel).call(this, ev.movementX, ev.movementY);\n            });\n            // Listen to keyboard events to enable dragging when Space is pressed, just like in Figma\n            __classPrivateFieldGet(this, _listenToKeyboardEvents).call(this);\n            /** @private */\n            this.onmousedown = () => {\n                if (__classPrivateFieldGet(this, _isDragModeOn)) {\n                    document.body.style.cursor = \"grabbing\";\n                    this.onmousemove = ({ movementX, movementY }) => {\n                        __classPrivateFieldGet(this, _movePanel).call(this, movementX, movementY);\n                    };\n                    // cleanup unnecessary listeners when user stops dragging\n                    this.onmouseup = () => {\n                        document.body.style.cursor = \"grab\";\n                        this.onmousemove = null;\n                        this.onmouseup = null;\n                    };\n                }\n            };\n        }\n        get isMovable() {\n            return true;\n        }\n        get canvasTransform() {\n            return [\n                `scale(${this.scale})`,\n                `translate(${this.panX}px, ${this.panY}px)`,\n            ];\n        }\n        disconnectedCallback() {\n            document.removeEventListener(\"keyup\", __classPrivateFieldGet(this, _keyUp));\n            document.removeEventListener(\"keydown\", __classPrivateFieldGet(this, _keyDown));\n            super.disconnectedCallback();\n        }\n        // Dispatch events when the position-related value changes.\n        updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has(\"scale\")) {\n                this.dispatchEvent(new CustomEvent(\"scalechange\", {\n                    detail: {\n                        scale: this.scale,\n                    },\n                }));\n            }\n            if (changedProperties.has(\"panX\") || changedProperties.has(\"panY\")) {\n                this.dispatchEvent(new CustomEvent(\"positionchange\", {\n                    detail: {\n                        x: this.panX,\n                        y: this.panY,\n                    },\n                }));\n            }\n        }\n        onTouchPan(delta) {\n            this.panX += delta.x / this.scale;\n            this.panY += delta.y / this.scale;\n        }\n        onTouchPinch(delta) {\n            // TODO: Remove this no-brainer magic number\n            this.scale *= 1 - delta / 1000;\n        }\n    }\n    _isDragModeOn = new WeakMap(), _movePanel = new WeakMap(), _keyDown = new WeakMap(), _keyUp = new WeakMap(), _listenToKeyboardEvents = new WeakMap();\n    PositionedMixin_decorate([\n        property_e({\n            attribute: false,\n        })\n    ], Positioned.prototype, \"panX\", void 0);\n    PositionedMixin_decorate([\n        property_e({\n            attribute: false,\n        })\n    ], Positioned.prototype, \"panY\", void 0);\n    PositionedMixin_decorate([\n        property_e({\n            attribute: false,\n        })\n    ], Positioned.prototype, \"scale\", void 0);\n    PositionedMixin_decorate([\n        property_e({\n            type: Number,\n            attribute: \"zoom-speed\",\n        })\n    ], Positioned.prototype, \"zoomSpeed\", void 0);\n    PositionedMixin_decorate([\n        property_e({\n            type: Number,\n            attribute: \"pan-speed\",\n        })\n    ], Positioned.prototype, \"panSpeed\", void 0);\n    return Positioned;\n};\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/DistanceGuide.js\n\n\n\nconst Line = ({ guide, reverseScale }) => {\n    const xLength = Math.abs(guide.points[0].x - guide.points[1].x);\n    const yLength = Math.abs(guide.points[0].y - guide.points[1].y);\n    if (xLength === 0 && yLength === 0) {\n        return null;\n    }\n    return lit_html_y `\n    <line\n      class=\"distance-line\"\n      x1=${guide.points[0].x}\n      y1=${guide.points[0].y}\n      x2=${guide.points[1].x}\n      y2=${guide.points[1].y}\n    />\n\n    ${guide.bisector &&\n        lit_html_y `\n        <line\n          class=\"distance-line\"\n          x1=${guide.bisector[0].x}\n          y1=${guide.bisector[0].y}\n          x2=${guide.bisector[1].x}\n          y2=${guide.bisector[1].y}\n          style=${style_map_i({\n            strokeDasharray: `${4 * reverseScale}`,\n        })}\n          shape-rendering=\"geometricPrecision\"\n          fill=\"none\"\n        />\n      `}\n  `;\n};\nconst Tooltip = ({ guide, reverseScale, fontSize }) => {\n    const xLength = Math.abs(guide.points[0].x - guide.points[1].x);\n    const yLength = Math.abs(guide.points[0].y - guide.points[1].y);\n    if (xLength === 0 && yLength === 0) {\n        return null;\n    }\n    const text = round(Math.max(xLength, yLength)).toString(10);\n    // Decreases font width because every text is a number (narrow).\n    // We can measure the correct width with getComputedTextLength method on\n    // <text> element, but it needs access to DOM or creating an element each\n    // render cycle, both have performance costs.\n    const width = text.length * fontSize * 0.5;\n    const startMargin = fontSize * 0.25;\n    const vPadding = fontSize * 0.25;\n    const hPadding = fontSize * 0.5;\n    const x = xLength > yLength\n        ? (guide.points[0].x + guide.points[1].x) / 2 - width / 2\n        : guide.points[0].x;\n    const y = xLength > yLength\n        ? guide.points[0].y\n        : (guide.points[0].y + guide.points[1].y) / 2 - fontSize / 2;\n    const transform = [\n        `scale(${reverseScale})`,\n        xLength > yLength\n            ? `translate(0, ${startMargin + vPadding})`\n            : `translate(${startMargin + hPadding}, 0)`,\n    ].join(\" \");\n    const cx = x + width / 2;\n    const cy = y + fontSize / 2;\n    const transformOrigin = xLength > yLength ? `${cx} ${y}` : `${x} ${cy}`;\n    return lit_html_y `\n    <g class=\"distance-tooltip\">\n      <rect\n        x=${x - hPadding}\n        y=${y - vPadding}\n        rx=\"2\"\n        width=${width + hPadding * 2}\n        height=${fontSize + vPadding * 2}\n        transform=${transform}\n        transform-origin=${transformOrigin}\n        stroke=\"none\"\n      />\n\n      <text\n        x=${cx}\n        y=${y + fontSize - vPadding / 2}\n        text-anchor=\"middle\"\n        transform=${transform}\n        transform-origin=${transformOrigin}\n        stroke=\"none\"\n        fill=\"white\"\n        style=\"font-size: ${fontSize}px\"\n      >\n        ${text}\n      </text>\n    </g>\n  `;\n};\nconst guidesCache = new Map();\nconst Guides = ({ node, distanceTo, reverseScale, fontSize, }) => {\n    const combinedId = node.id + \"\\n\" + distanceTo.id;\n    let guides = guidesCache.get(combinedId);\n    if (!guides) {\n        guides = getDistanceGuides(node.absoluteBoundingBox, distanceTo.absoluteBoundingBox);\n        guidesCache.set(combinedId, guides);\n    }\n    return [\n        ...guides.map((guide) => Line({ guide, reverseScale })),\n        ...guides.map((guide) => Tooltip({ guide, reverseScale, fontSize })),\n    ];\n};\nconst DistanceGuide_styles = css_tag_r `\n  .distance-line {\n    shape-rendering: geometricPrecision;\n    fill: none;\n    opacity: 0;\n  }\n\n  .distance-tooltip {\n    opacity: 0;\n  }\n\n  .guide:hover ~ .distance-line,\n  .guide:hover ~ .distance-tooltip {\n    opacity: 1;\n  }\n`;\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/Icons.js\n\nconst CloseIcon = ({ onClick = () => { } }) => lit_html_y `\n  <svg @click=${onClick} title=\"close icon\" width=\"14\" height=\"14\" viewBox=\"0 0 20 20\" fill=\"none\">\n    <path d=\"M1 19L19 1M19 19L1 1\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n  </svg>\n`;\nconst CopyIcon = ({ onClick = () => { } }) => lit_html_y `\n  <svg @click=${onClick} title=\"copy icon\" width=\"14\" height=\"14\" viewBox=\"0 0 30 30\" fill=\"none\">\n  <path d=\"M21 25.5C21 24.9477 20.5523 24.5 20 24.5C19.4477 24.5 19 24.9477 19 25.5H21ZM13 2H25V0H13V2ZM28 5V21H30V5H28ZM25 24H13V26H25V24ZM10 21V5H8V21H10ZM13 24C11.3431 24 10 22.6569 10 21H8C8 23.7614 10.2386 26 13 26V24ZM28 21C28 22.6569 26.6569 24 25 24V26C27.7614 26 30 23.7614 30 21H28ZM25 2C26.6569 2 28 3.34315 28 5H30C30 2.23858 27.7614 0 25 0V2ZM13 0C10.2386 0 8 2.23858 8 5H10C10 3.34315 11.3431 2 13 2V0ZM16.5 28H5V30H16.5V28ZM2 25V10H0V25H2ZM5 28C3.34315 28 2 26.6569 2 25H0C0 27.7614 2.23858 30 5 30V28ZM5 7H8V5H5V7ZM2 10C2 8.34315 3.34315 7 5 7V5C2.23858 5 0 7.23858 0 10H2ZM16.5 30C18.9853 30 21 27.9853 21 25.5H19C19 26.8807 17.8807 28 16.5 28V30Z\" fill=\"#B3B3B3\"/>\n</svg>\n`;\nconst HorizontalPaddingIcon = () => lit_html_y `\n  <svg title=\"horizontal padding\" width=\"14\" height=\"14\" viewBox=\"0 0 29 28\" fill=\"none\">\n    <rect x=\"7\" y=\"8\" width=\"14\" height=\"14\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n    <path d=\"M27 1V28\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n    <path d=\"M1 0V28\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n  </svg>\n`;\nconst VerticalPaddingIcon = () => lit_html_y `\n  <svg title=\"vertical padding\" width=\"14\" height=\"14\" viewBox=\"0 0 29 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"8\" y=\"21\" width=\"14\" height=\"14\" transform=\"rotate(-90 8 21)\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n    <path d=\"M1 1L28 0.999999\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n    <path d=\"M0 27L28 27\" stroke=\"#B3B3B3\" stroke-width=\"2\"/>\n  </svg>\n`;\nconst FigmaIcon = () => lit_html_y `\n  <svg title=\"figma logo\" width=\"11\" height=\"16\" viewBox=\"0 0 12 17\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M5.5 1.5h-2c-1.105 0-2 .895-2 2 0 1.105.895 2 2 2h2v-4zm-5 2c0 1.043.533 1.963 1.341 2.5C1.033 6.537.5 7.457.5 8.5c0 1.043.533 1.963 1.341 2.5C1.033 11.537.5 12.457.5 13.5c0 1.657 1.343 3 3 3 1.657 0 3-1.343 3-3V10.736c.53.475 1.232.764 2 .764 1.657 0 3-1.343 3-3 0-1.043-.533-1.963-1.341-2.5.808-.537 1.341-1.457 1.341-2.5 0-1.657-1.343-3-3-3h-5c-1.657 0-3 1.343-3 3zm1 5c0-1.105.895-2 2-2h2v4h-2c-1.105 0-2-.895-2-2zm0 5c0-1.105.895-2 2-2h2v2c0 1.105-.895 2-2 2-1.105 0-2-.895-2-2zm7-3c-1.105 0-2-.895-2-2 0-1.105.895-2 2-2 1.105 0 2 .895 2 2 0 1.105-.895 2-2 2zm0-5h-2v-4h2c1.105 0 2 .895 2 2 0 1.105-.895 2-2 2z\"\n      fill-rule=\"evenodd\"\n      fill-opacity=\"1\"\n      fill=\"#000\"\n      stroke=\"none\"\n    ></path>\n  </svg>\n`;\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/InspectorView/utils.js\nconst extractColorStyle = (color) => {\n    if (color.a === 0) {\n        return \"transparent\";\n    }\n    else if (color.a < 1) {\n        return `rgba(${rgbToIntArray(color).join(\", \")}, ${color.a.toFixed(2)})`;\n    }\n    else {\n        return rgbToHex(color);\n    }\n};\nconst extractGradientColorStyle = (color) => {\n    return new Gradient(color).cssColor;\n};\nclass Gradient {\n    constructor(data) {\n        this.gradientHandles = {\n            start: data.gradientHandlePositions[0],\n            end: data.gradientHandlePositions[1],\n        };\n        this.colors = data.gradientStops;\n        this.colorObjects = this.createColorObjects(this.colors);\n        this.angle = this.calculateAngle(this.gradientHandles.start, this.gradientHandles.end);\n    }\n    get cssGradientArray() {\n        return this.colorObjects.map((color, index) => {\n            const position = this.floatToPercent(this.colors[index].position);\n            return color + \" \" + position;\n        });\n    }\n    get cssColor() {\n        const cssGradientArray = this.cssGradientArray;\n        cssGradientArray.unshift(this.angle + \"deg\");\n        return `linear-gradient(${cssGradientArray.join(\", \")})`;\n    }\n    createColorObjects(colors) {\n        return colors.map(({ color }) => extractColorStyle(color));\n    }\n    floatToPercent(value) {\n        return (value *= 100).toFixed(0) + \"%\";\n    }\n    calculateAngle(startHandle, endHandle) {\n        const radians = Math.atan(this.calculateGradient(startHandle, endHandle));\n        return parseInt(this.radToDeg(radians).toFixed(1));\n    }\n    calculateGradient(startHandle, endHandle) {\n        return ((endHandle.y - startHandle.y) / (endHandle.x - startHandle.x)) * -1;\n    }\n    radToDeg(radian) {\n        return (180 * radian) / Math.PI;\n    }\n}\nclass NodeStyles {\n    constructor(node) {\n        var _a, _b, _c;\n        this.hasPadding = false;\n        this.height = `${Math.trunc(node.absoluteBoundingBox.height)}px`;\n        this.width = `${Math.trunc(node.absoluteBoundingBox.width)}px`;\n        // paddings\n        if (node.horizontalPadding || node.verticalPadding) {\n            this.hasPadding = true;\n            this.horizontalPadding = `${node.horizontalPadding}px`;\n            this.verticalPadding = `${node.verticalPadding}px`;\n        }\n        // font styles\n        if (node.style) {\n            this.fontFamily = node.style.fontFamily;\n            this.fontPostScriptName = (_a = node.style.fontPostScriptName) === null || _a === void 0 ? void 0 : _a.replace(\"-\", \" \");\n            this.fontWeight = node.style.fontWeight;\n            this.fontSize = `${Math.ceil(node.style.fontSize)}px`;\n            this.lineHeight = `${Math.trunc(node.style.lineHeightPx)}px`;\n        }\n        // border radii\n        if (node.rectangleCornerRadii) {\n            this.borderRadius =\n                node.rectangleCornerRadii.filter((radius) => radius === node.cornerRadius).length < 4\n                    ? `${node.rectangleCornerRadii.join(\"px \")}px`\n                    : `${node.cornerRadius}px`;\n        }\n        // colors, background, fill\n        if (node.backgroundColor || node.backgroundColor) {\n            const color = node.backgroundColor || ((_b = node.background) === null || _b === void 0 ? void 0 : _b[0].color);\n            this.background = extractColorStyle(color);\n        }\n        const fillColor = (_c = node.fills) === null || _c === void 0 ? void 0 : _c[0];\n        if (fillColor && fillColor.visible !== false) {\n            if (node.type === \"TEXT\") {\n                this.color = extractColorStyle(fillColor.color);\n            }\n            else if (fillColor.type.includes(\"GRADIENT\")) {\n                this.backgroundImage = extractGradientColorStyle(fillColor);\n            }\n            else if (fillColor.type === \"SOLID\") {\n                this.background = extractColorStyle(fillColor.color);\n            }\n        }\n        // borders\n        if (node.strokes && node.strokes.length > 0) {\n            this.borderColor = extractColorStyle(node.strokes[0].color);\n            this.border = `${node.strokeWeight}px solid ${this.borderColor}`;\n        }\n        // box-shadow\n        if (node.effects && node.effects.length > 0) {\n            const { offset, radius, color } = node.effects[0];\n            this.boxShadowColor = extractColorStyle(color);\n            this.boxShadow = `${(offset === null || offset === void 0 ? void 0 : offset.x) || 0}px ${(offset === null || offset === void 0 ? void 0 : offset.y) || 0}px 0 ${radius} ${this.boxShadowColor}`;\n        }\n    }\n    getStyles() {\n        return [\n            this.height && { property: \"height\", value: this.height },\n            this.width && { property: \"width\", value: this.width },\n            this.fontFamily && { property: \"font-family\", value: this.fontFamily },\n            this.fontSize && { property: \"font-size\", value: this.fontSize },\n            this.fontWeight && { property: \"font-weight\", value: this.fontWeight },\n            this.lineHeight && { property: \"line-height\", value: this.lineHeight },\n            this.borderRadius && {\n                property: \"border-radius\",\n                value: this.borderRadius,\n            },\n            this.backgroundImage && {\n                property: \"background-image\",\n                value: this.backgroundImage,\n            },\n            this.boxShadow && {\n                property: \"box-shadow\",\n                value: this.boxShadow,\n                color: this.boxShadowColor,\n            },\n            this.border && {\n                property: \"border\",\n                value: this.border,\n                color: this.borderColor,\n            },\n            this.background && {\n                property: \"background\",\n                value: this.background,\n                color: this.background,\n            },\n            this.color && { property: \"color\", value: this.color, color: this.color },\n        ].filter(Boolean);\n    }\n    getStyleSheet() {\n        return this.getStyles().map(getStyleRule).join(\"\\n\");\n    }\n}\nconst rgbToIntArray = (color) => [\n    Math.trunc(255 * color.r),\n    Math.trunc(255 * color.g),\n    Math.trunc(255 * color.b),\n];\nconst rgbToHex = (color) => {\n    const [r, g, b] = rgbToIntArray(color);\n    return \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n};\nconst getStyleRule = ({ property, value }) => `${property}: ${value};`;\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/InspectorView/InspectorView.js\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst copy = (text) => __awaiter(void 0, void 0, void 0, function* () {\n    yield navigator.clipboard.writeText(text);\n});\nconst View = ({ node, onClose }) => {\n    if (!node) {\n        return null;\n    }\n    const nodeStyles = new NodeStyles(node);\n    // In order to disable canvas interactions (e.g. pan, click to\n    // deselect), we need to cancel JavaScript event propagation\n    // on the root element.\n    const stopPropagation = (ev) => ev.stopPropagation();\n    return $ `\n    <div\n      class=\"inspector-view\"\n      @click=${stopPropagation}\n      @wheel=${stopPropagation}\n      @keydown=${stopPropagation}\n      @keyup=${stopPropagation}\n      @pointermove=${stopPropagation}\n    >\n      <div class=\"inspector-section selectable-content\">\n        <div class=\"title-section\">\n          <h4>${node.name}</h4>\n          ${CloseIcon({ onClick: onClose })}\n        </div>\n        <div class=\"properties-overview\">\n          <div class=\"title-section\">\n            <p class=\"inspector-property\">\n              <span>W: </span>${nodeStyles.width}\n            </p>\n            <p class=\"inspector-property\" style=\"margin-left: 16px;\">\n              <span>H: </span>${nodeStyles.height}\n            </p>\n          </div>\n          ${nodeStyles.fontPostScriptName\n        ? $ `<p class=\"inspector-property\">\n                <span>Font:</span>\n                ${nodeStyles.fontPostScriptName}\n              </p>`\n        : null}\n        </div>\n      </div>\n      ${nodeStyles.hasPadding\n        ? $ `<div class=\"inspector-section\">\n            <h4>Layout</h4>\n            ${nodeStyles.horizontalPadding &&\n            $ `<p class=\"inspector-property\">\n              ${HorizontalPaddingIcon()} ${nodeStyles.horizontalPadding}\n            </p>`}\n            ${nodeStyles.verticalPadding &&\n            $ `<p class=\"inspector-property\">\n              ${VerticalPaddingIcon()} ${nodeStyles.verticalPadding}\n            </p>`}\n          </div>`\n        : null}\n      ${node.characters\n        ? $ `<div class=\"inspector-section\">\n            <div class=\"title-section\">\n              <h4>Content</h4>\n              ${CopyIcon({ onClick: () => copy(node.characters) })}\n            </div>\n            <p class=\"node-content code-section selectable-content\">\n              ${node.characters}\n            </p>\n          </div>`\n        : null}\n      ${StylesSection(nodeStyles)}\n    </div>\n  `;\n};\nconst StylesSection = (nodeStyles) => {\n    const onClick = () => copy(nodeStyles.getStyleSheet());\n    const styles = nodeStyles.getStyles();\n    return $ `<div class=\"inspector-section\">\n    <div class=\"title-section style-section\">\n      <h4>CSS</h4>\n      ${CopyIcon({ onClick })}\n    </div>\n    <div class=\"code-section selectable-content\">\n      ${styles.map(CSSProperty)}\n    </div>\n  </div>`;\n};\nconst CSSProperty = (cssProperty) => {\n    const { property, value, color } = cssProperty;\n    let coloredSquare = null;\n    switch (property) {\n        case \"background\":\n        case \"fill\":\n        case \"border\":\n        case \"box-shadow\":\n        case \"color\":\n            coloredSquare = $ `<span\n        class=\"color-preview\"\n        style=\"background-color: ${color}\"\n      ></span>`;\n            break;\n        case \"background-image\":\n            coloredSquare = $ `<span\n        class=\"color-preview\"\n        style=\"background-image: ${value}\"\n      ></span>`;\n            break;\n    }\n    return $ `<div class=\"css-property\" @click=${() => copy(getStyleRule(cssProperty))}>\n    <span>${property}:</span>${coloredSquare}<span class=\"css-value\">${value}</span>;</span>\n  </div>`;\n};\nconst InspectorView_styles = css_tag_r `\n  .inspector-view {\n    height: 100%;\n    width: 300px;\n    position: absolute;\n    right: 0;\n    background: white;\n    border-left: 1px solid #ccc;\n    overflow-y: auto;\n    z-index: calc(var(--z-index) + 2);\n  }\n\n  .inspector-view h4 {\n    font-size: 16px;\n    margin: 0;\n  }\n\n  .style-section {\n    margin-bottom: 12px;\n  }\n\n  .title-section {\n    display: flex;\n    align-items: center;\n  }\n\n  .code-section {\n    padding: 8px;\n    background: #f3f3f3;\n    font-family: monospace;\n  }\n\n  .title-section svg {\n    cursor: pointer;\n    margin-left: auto;\n  }\n\n  .inspector-section {\n    padding: 16px;\n    border-bottom: 1px solid #eee;\n  }\n\n  .properties-overview {\n    font-family: monospace;\n    color: #518785;\n  }\n\n  .properties-overview p span {\n    color: #121212;\n  }\n\n  .inspector-property {\n    display: flex;\n    align-items: center;\n    margin-bottom: 0;\n  }\n\n  .inspector-property span {\n    color: #b3b3b3;\n    margin-right: 4px;\n  }\n\n  .inspector-property svg {\n    margin-right: 8px;\n  }\n\n  .css-property {\n    margin: 8px;\n    transition: background-color ease-in-out 100ms;\n  }\n\n  .css-property:hover {\n    cursor: pointer;\n    background-color: #e8e8e8;\n  }\n\n  .css-value {\n    color: #518785;\n    margin-left: 4px;\n  }\n\n  .color-preview {\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    border: 1px solid #ccc;\n    margin-left: 4px;\n    vertical-align: middle;\n  }\n\n  .selectable-content {\n    cursor: text;\n    user-select: text;\n  }\n`;\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/Node.js\n\n\n\nconst Outline = ({ node, selected = false, computedThickness, onClick, }) => {\n    const { x, y, width, height } = node.absoluteBoundingBox;\n    const radius = \"cornerRadius\" in node && node.cornerRadius\n        ? {\n            topLeft: node.cornerRadius,\n            topRight: node.cornerRadius,\n            bottomRight: node.cornerRadius,\n            bottomLeft: node.cornerRadius,\n        }\n        : \"rectangleCornerRadii\" in node && node.rectangleCornerRadii\n            ? {\n                topLeft: node.rectangleCornerRadii[0],\n                topRight: node.rectangleCornerRadii[1],\n                bottomRight: node.rectangleCornerRadii[2],\n                bottomLeft: node.rectangleCornerRadii[3],\n            }\n            : {\n                topLeft: 0,\n                topRight: 0,\n                bottomRight: 0,\n                bottomLeft: 0,\n            };\n    // Since SVG can't control where to draw borders (I mean you can't draw inset borders), we need to\n    // shift each drawing points by the half of the border width.\n    const shift = computedThickness / 2;\n    // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d\n    // [M] ... Move to\n    // [L] ... Line to\n    // [A] ... Arc to\n    // [Z] ... Close path\n    const moveTo = (x, y) => `M${x},${y}`;\n    const lineTo = (x, y) => `L${x},${y}`;\n    const arcTo = (r, x, y) => `A${r},${r} 0 0 1 ${x},${y}`;\n    const boxPath = [\n        moveTo(radius.topLeft + shift, shift),\n        lineTo(width - radius.topRight, shift),\n        arcTo(radius.topRight - shift, width - shift, radius.topRight),\n        lineTo(width - shift, height - radius.bottomRight),\n        arcTo(radius.bottomRight - shift, width - radius.bottomRight, height - shift),\n        lineTo(radius.bottomLeft, height - shift),\n        arcTo(radius.bottomLeft - shift, shift, height - radius.bottomLeft),\n        lineTo(shift, radius.topLeft),\n        arcTo(radius.topLeft - shift, radius.topLeft, shift),\n        \"Z\",\n    ].join(\" \");\n    return lit_html_y `\n    <path\n      class=\"guide\"\n      d=${boxPath}\n      shape-rendering=\"geometricPrecision\"\n      fill=\"none\"\n      transform=\"translate(${x}, ${y})\"\n      ?data-selected=${selected}\n      @click=${onClick}\n    />\n  `;\n};\nconst Node_Tooltip = ({ nodeSize: { x, y, width, height }, offsetX, offsetY, reverseScale, }) => {\n    const tooltipStyle = {\n        top: `${offsetY + y + height}px`,\n        left: `${offsetX + x + width / 2}px`,\n        transform: `translateX(-50%) scale(${reverseScale}) translateY(0.25em)`,\n    };\n    return $ `\n    <div class=\"tooltip\" style=\"${style_map_i(tooltipStyle)}\">\n      ${round(width)} x ${round(height)}\n    </div>\n  `;\n};\nconst Node_styles = css_tag_r `\n  .guide {\n    /*\n     * SVGs cannot be pixel perfect, especially floating values.\n     * Since many platform renders them visually incorrectly (probably they\n     * are following the spec), it's safe to set overflow to visible.\n     * Cropped borders are hard to visible and ugly.\n     */\n    overflow: visible;\n\n    pointer-events: all;\n\n    opacity: 0;\n  }\n  .guide:hover {\n    opacity: 1;\n  }\n  .guide[data-selected] {\n    opacity: 1;\n    stroke: var(--guide-selected-color);\n  }\n\n  .tooltip {\n    position: absolute;\n    padding: 0.25em 0.5em;\n    font-size: var(--guide-tooltip-font-size);\n\n    color: var(--guide-selected-tooltip-fg);\n    background-color: var(--guide-selected-tooltip-bg);\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: calc(var(--z-index) + 1);\n\n    transform-origin: top center;\n  }\n`;\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/Footer/utils.js\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst WEEK = 7 * DAY;\nconst MONTH = 30 * DAY;\nconst YEAR = 365 * DAY;\nconst intervals = [\n    { gte: YEAR, divisor: YEAR, unit: \"year\" },\n    { gte: MONTH, divisor: MONTH, unit: \"month\" },\n    { gte: WEEK, divisor: WEEK, unit: \"week\" },\n    { gte: DAY, divisor: DAY, unit: \"day\" },\n    { gte: HOUR, divisor: HOUR, unit: \"hour\" },\n    { gte: MINUTE, divisor: MINUTE, unit: \"minute\" },\n    { gte: 30 * SECOND, divisor: SECOND, unit: \"seconds\" },\n    { gte: 0, divisor: 1, text: \"just now\" },\n];\nconst getTime = (targetDate) => {\n    const date = typeof targetDate === \"object\"\n        ? targetDate\n        : new Date(targetDate);\n    return date.getTime();\n};\n/**\n * Receives two dates to compare and returns \"time ago\" based on them\n * example: 4 weeks ago\n *\n * Heavily inspired by https://stackoverflow.com/a/67338038/938822\n */\nconst fromNow = (date, nowDate = Date.now(), rft = new Intl.RelativeTimeFormat(undefined, { numeric: \"auto\" })) => {\n    const now = getTime(nowDate);\n    const diff = now - getTime(date);\n    const diffAbs = Math.abs(diff);\n    for (const interval of intervals) {\n        if (diffAbs >= interval.gte) {\n            const x = Math.round(Math.abs(diff) / interval.divisor);\n            const isInFuture = diff < 0;\n            const intervalUnit = interval.unit;\n            return intervalUnit\n                ? rft.format(isInFuture ? x : -x, intervalUnit)\n                : interval.text;\n        }\n    }\n};\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/Footer/Footer.js\n\n\n\nconst Footer_styles = css_tag_r `\n  .figma-footer {\n    flex: 0;\n    z-index: calc(var(--z-index) + 1);\n    border-top: 1px solid #ccc;\n    min-height: 48px;\n    padding: 0 16px;\n    text-decoration: none;\n    display: flex;\n    flex-direction: row;\n    justify-content: start;\n    align-items: center;\n    background-color: #fff;\n    overflow-x: auto;\n    cursor: pointer;\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.8);\n  }\n\n  .figma-footer--icon {\n    margin-right: 12px;\n  }\n\n  .figma-footer--title {\n    font-weight: 600;\n    margin-right: 4px;\n\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .figma-footer--timestamp {\n    white-space: nowrap;\n    overflow: hidden;\n  }\n`;\nconst Footer = (metadata) => {\n    // Do not render in case there is no metadata or a link is not passed\n    if (!metadata ||\n        !metadata.link ||\n        metadata.link === undefined ||\n        metadata.link === \"undefined\") {\n        return null;\n    }\n    const { link, timestamp, fileName } = metadata;\n    return $ `<a\n    class=\"figma-footer\"\n    target=\"_blank\"\n    rel=\"noopener\"\n    title=\"Open in Figma\"\n    href=\"${link}\"\n  >\n    <span class=\"figma-footer--icon\"> ${FigmaIcon()} </span>\n    <span class=\"figma-footer--title\"> ${fileName} </span>\n    <span\n      title=\"Last time edited: ${new Date(timestamp).toUTCString()}\"\n      class=\"figma-footer--timestamp\"\n    >\n      Edited ${fromNow(timestamp)}\n    </span>\n  </a>`;\n};\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/ViewerMixin.js\nvar ViewerMixin_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ViewerMixin_classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar ViewerMixin_classPrivateFieldSet = (undefined && undefined.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\n\n\n\n\n\n\n\n\n\n\n\nconst ViewerMixin = (superClass) => {\n    var _canvasSize, _effectMargins, _flattenedNodes, _handleNodeClick, _getNodeById;\n    class Viewer extends NodeSelectableMixin(PositionedMixin(superClass)) {\n        constructor(...args) {\n            super(...args);\n            this.zoomMargin = 50;\n            this.link = \"\";\n            // Cached values\n            _canvasSize.set(this, void 0);\n            _effectMargins.set(this, void 0);\n            _flattenedNodes.set(this, void 0);\n            _handleNodeClick.set(this, (node) => (ev) => {\n                ev.preventDefault();\n                ev.stopPropagation();\n                this.selectedNode = node;\n            });\n            _getNodeById.set(this, (id) => {\n                var _a, _b;\n                return (_b = (_a = ViewerMixin_classPrivateFieldGet(this, _flattenedNodes)) === null || _a === void 0 ? void 0 : _a.find((n) => n.id === id)) !== null && _b !== void 0 ? _b : null;\n            });\n        }\n        static get styles() {\n            // @ts-ignore\n            const styles = super.styles;\n            return extendStyles(styles, [\n                css_tag_r `\n          :host {\n            --default-error-bg: #fff;\n            --default-error-fg: #333;\n\n            --bg: var(--figspec-viewer-bg, #e5e5e5);\n            --z-index: var(--figspec-viewer-z-index, 0);\n            --error-bg: var(--figspec-viewer-error-bg, var(--default-error-bg));\n            --error-fg: var(--figspec-viewer-error-fg, var(--default-error-fg));\n            --error-color: var(--figspec-viewer-error-color, tomato);\n\n            --guide-thickness: var(--figspec-viewer-guide-thickness, 1.5px);\n            --guide-color: var(--figspec-viewer-guide-color, tomato);\n            --guide-selected-color: var(\n              --figspec-viewer-guide-selected-color,\n              dodgerblue\n            );\n            --guide-tooltip-fg: var(--figspec-viewer-guide-tooltip-fg, white);\n            --guide-selected-tooltip-fg: var(\n              --figspec-viewer-guide-selected-tooltip-fg,\n              white\n            );\n            --guide-tooltip-bg: var(\n              --figspec-viewer-guide-tooltip-bg,\n              var(--guide-color)\n            );\n            --guide-selected-tooltip-bg: var(\n              --figspec-viewer-guide-selected-tooltip-bg,\n              var(--guide-selected-color)\n            );\n            --guide-tooltip-font-size: var(\n              --figspec-viewer-guide-tooltip-font-size,\n              12px\n            );\n\n            position: relative;\n            display: block;\n\n            background-color: var(--bg);\n            user-select: none;\n            overflow: hidden;\n            z-index: var(--z-index);\n          }\n\n          @media (prefers-color-scheme: dark) {\n            :host {\n              --default-error-bg: #222;\n              --default-error-fg: #fff;\n            }\n          }\n\n          .spec-canvas-wrapper {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            display: flex;\n            flex-direction: column-reverse;\n          }\n\n          .canvas {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            flex: 1;\n          }\n\n          .rendered-image {\n            position: absolute;\n            top: 0;\n            left: 0;\n          }\n\n          .guides {\n            position: absolute;\n\n            overflow: visible;\n            stroke: var(--guide-color);\n            fill: var(--guide-color);\n            pointer-events: none;\n            z-index: calc(var(--z-index) + 2);\n          }\n        `,\n                Node_styles,\n                ErrorMessage_styles,\n                DistanceGuide_styles,\n                InspectorView_styles,\n                Footer_styles,\n            ]);\n        }\n        get __images() {\n            return {};\n        }\n        deselectNode() {\n            this.selectedNode = null;\n        }\n        get error() {\n            if (!ViewerMixin_classPrivateFieldGet(this, _canvasSize) || !ViewerMixin_classPrivateFieldGet(this, _flattenedNodes)) {\n                return ErrorMessage({\n                    title: \"Error\",\n                    children: \"Please call `__updateTree/1` method with a valid parameter.\",\n                });\n            }\n            return null;\n        }\n        render() {\n            if (this.error) {\n                if (this.error instanceof Error) {\n                    return ErrorMessage({\n                        title: this.error.name || \"Error\",\n                        children: this.error.message,\n                    });\n                }\n                if (typeof this.error === \"string\") {\n                    return ErrorMessage({\n                        title: \"Error\",\n                        children: this.error,\n                    });\n                }\n                return this.error;\n            }\n            const canvasSize = ViewerMixin_classPrivateFieldGet(this, _canvasSize);\n            const reverseScale = 1 / this.scale;\n            const guideThickness = `calc(var(--guide-thickness) * ${reverseScale})`;\n            const computedGuideThickness = parseFloat(getComputedStyle(this).getPropertyValue(\"--guide-thickness\"));\n            const computedGuideTooltipFontSize = parseFloat(getComputedStyle(this).getPropertyValue(\"--guide-tooltip-font-size\"));\n            return $ `\n        <div class=\"spec-canvas-wrapper\" @click=${this.deselectNode}>\n          <div\n            class=\"canvas\"\n            style=\"\n          width: ${canvasSize.width}px;\n          height: ${canvasSize.height}px;\n\n          transform: translate(-50%, -50%) ${this.canvasTransform.join(\" \")}\n        \"\n          >\n            ${Object.entries(this.__images).map(([nodeId, uri]) => {\n                var _a;\n                const node = ViewerMixin_classPrivateFieldGet(this, _getNodeById).call(this, nodeId);\n                if (!node ||\n                    !(\"absoluteBoundingBox\" in node) ||\n                    !((_a = ViewerMixin_classPrivateFieldGet(this, _effectMargins)) === null || _a === void 0 ? void 0 : _a[node.id])) {\n                    return null;\n                }\n                const margin = ViewerMixin_classPrivateFieldGet(this, _effectMargins)[node.id];\n                return $ `\n                <img class=\"rendered-image\" src=\"${uri}\"\n                style=${style_map_i({\n                    top: `${node.absoluteBoundingBox.y - canvasSize.y}px`,\n                    left: `${node.absoluteBoundingBox.x - canvasSize.x}px`,\n                    marginTop: `${-margin.top}px`,\n                    marginLeft: `${-margin.left}px`,\n                    width: node.absoluteBoundingBox.width +\n                        margin.left +\n                        margin.right +\n                        \"px\",\n                    height: node.absoluteBoundingBox.height +\n                        margin.top +\n                        margin.bottom +\n                        \"px\",\n                })}\"\n                \" />\n              `;\n            })}\n            ${this.selectedNode &&\n                Node_Tooltip({\n                    nodeSize: this.selectedNode.absoluteBoundingBox,\n                    offsetX: -canvasSize.x,\n                    offsetY: -canvasSize.y,\n                    reverseScale,\n                })}\n            ${lit_html_y `\n            <svg\n              class=\"guides\"\n              viewBox=\"0 0 5 5\"\n              width=\"5\"\n              height=\"5\"\n              style=${style_map_i({\n                left: `${-canvasSize.x}px`,\n                top: `${-canvasSize.y}px`,\n                strokeWidth: guideThickness,\n            })}\n            >\n              ${this.selectedNode &&\n                Outline({\n                    node: this.selectedNode,\n                    selected: true,\n                    computedThickness: computedGuideThickness * reverseScale,\n                })}\n\n              ${ViewerMixin_classPrivateFieldGet(this, _flattenedNodes).map((node) => {\n                var _a;\n                if (node.id === ((_a = this.selectedNode) === null || _a === void 0 ? void 0 : _a.id)) {\n                    return null;\n                }\n                return lit_html_y `\n                  <g>\n                    ${Outline({\n                    node,\n                    computedThickness: computedGuideThickness * reverseScale,\n                    onClick: ViewerMixin_classPrivateFieldGet(this, _handleNodeClick).call(this, node),\n                })}\n                    ${this.selectedNode &&\n                    Guides({\n                        node,\n                        distanceTo: this.selectedNode,\n                        reverseScale,\n                        fontSize: computedGuideTooltipFontSize,\n                    })}\n                  </g>\n                `;\n            })}\n            </svg>\n          `}\n          </div>\n          ${View({\n                node: this.selectedNode,\n                onClose: this.deselectNode,\n            })}\n          ${Footer(this.getMetadata())}\n        </div>\n      `;\n        }\n        // implemented in FileViewer/FrameViewer\n        getMetadata() {\n            return undefined;\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this.resetZoom();\n        }\n        updated(changedProperties) {\n            super.updated(changedProperties);\n        }\n        __updateTree(node) {\n            if (!(node.type === \"CANVAS\" ||\n                node.type === \"FRAME\" ||\n                node.type === \"COMPONENT\" ||\n                //@ts-ignore NOTE: figma-js does not implement COMPONENT_SET type (yet?)\n                node.type === \"COMPONENT_SET\")) {\n                throw new Error(\"Cannot update node tree: Top level node MUST be one of CANVAS, FRAME, COMPONENT, or COMPONENT_SET\");\n            }\n            ViewerMixin_classPrivateFieldSet(this, _canvasSize, node.type === \"CANVAS\" ? getCanvasSize(node) : node.absoluteBoundingBox);\n            ViewerMixin_classPrivateFieldSet(this, _flattenedNodes, flattenNode(node));\n            // Since above properties aren't \"attribute\", their changes does not\n            // trigger an update. We need to manually request an update.\n            this.requestUpdate();\n        }\n        __updateEffectMargins() {\n            if (!this.__images) {\n                return;\n            }\n            const containers = Object.keys(this.__images)\n                .map(ViewerMixin_classPrivateFieldGet(this, _getNodeById))\n                .filter((n) => !!n);\n            ViewerMixin_classPrivateFieldSet(this, _effectMargins, containers.reduce((margin, node) => {\n                if (!(\"absoluteBoundingBox\" in node)) {\n                    return margin;\n                }\n                return Object.assign(Object.assign({}, margin), { [node.id]: getEffectMargin(node, flattenNode(node)) });\n            }, {}));\n            this.requestUpdate();\n        }\n        resetZoom() {\n            if (ViewerMixin_classPrivateFieldGet(this, _canvasSize)) {\n                // Set initial zoom level based on element size\n                const { width, height } = ViewerMixin_classPrivateFieldGet(this, _canvasSize);\n                const { width: elementWidth, height: elementHeight, } = this.getBoundingClientRect();\n                const wDiff = elementWidth / (width + this.zoomMargin * 2);\n                const hDiff = elementHeight / (height + this.zoomMargin * 2);\n                this.scale = Math.min(wDiff, hDiff, 1);\n            }\n        }\n    }\n    _canvasSize = new WeakMap(), _effectMargins = new WeakMap(), _flattenedNodes = new WeakMap(), _handleNodeClick = new WeakMap(), _getNodeById = new WeakMap();\n    ViewerMixin_decorate([\n        property_e({\n            type: Number,\n            attribute: \"zoom-margin\",\n        })\n    ], Viewer.prototype, \"zoomMargin\", void 0);\n    ViewerMixin_decorate([\n        property_e({\n            type: String,\n            attribute: \"link\",\n        })\n    ], Viewer.prototype, \"link\", void 0);\n    return Viewer;\n};\nfunction getCanvasSize(node) {\n    const left = [];\n    const right = [];\n    const top = [];\n    const bottom = [];\n    for (const child of node.children) {\n        if (child.type !== \"FRAME\" && child.type !== \"COMPONENT\") {\n            continue;\n        }\n        const { x, y, width, height } = child.absoluteBoundingBox;\n        left.push(x);\n        right.push(x + width);\n        top.push(y);\n        bottom.push(y + height);\n    }\n    const minX = Math.min(...left);\n    const minY = Math.min(...top);\n    return {\n        x: minX,\n        y: minY,\n        width: Math.abs(Math.max(...right) - minX),\n        height: Math.abs(Math.min(...bottom) - minY),\n    };\n}\nfunction getEffectMargin(container, nodes) {\n    const points = nodes.map((node) => {\n        if (!(\"effects\" in node)) {\n            return {\n                top: node.absoluteBoundingBox.y,\n                right: node.absoluteBoundingBox.x + node.absoluteBoundingBox.width,\n                bottom: node.absoluteBoundingBox.y + node.absoluteBoundingBox.height,\n                left: node.absoluteBoundingBox.x,\n            };\n        }\n        const blurRadiuses = node.effects\n            .filter((effect) => effect.visible && effect.type === \"LAYER_BLUR\")\n            .map((effect) => effect.radius);\n        const shadowMargins = node.effects\n            .filter((effect) => effect.visible && effect.type === \"DROP_SHADOW\" && !!effect.offset)\n            .map((effect) => {\n            return {\n                left: effect.radius - effect.offset.x,\n                top: effect.radius - effect.offset.y,\n                right: effect.radius + effect.offset.x,\n                bottom: effect.radius + effect.offset.y,\n            };\n        });\n        const margin = {\n            top: Math.max(0, ...blurRadiuses, ...shadowMargins.map((margin) => margin.top)),\n            right: Math.max(0, ...blurRadiuses, ...shadowMargins.map((margin) => margin.right)),\n            bottom: Math.max(0, ...blurRadiuses, ...shadowMargins.map((margin) => margin.bottom)),\n            left: Math.max(0, ...blurRadiuses, ...shadowMargins.map((margin) => margin.left)),\n        };\n        return {\n            top: node.absoluteBoundingBox.y - margin.top,\n            right: node.absoluteBoundingBox.x +\n                node.absoluteBoundingBox.width +\n                margin.right,\n            bottom: node.absoluteBoundingBox.y +\n                node.absoluteBoundingBox.height +\n                margin.bottom,\n            left: node.absoluteBoundingBox.x - margin.left,\n        };\n    });\n    const bounds = {\n        top: Math.min(...points.map((p) => p.top)),\n        right: Math.max(...points.map((p) => p.right)),\n        bottom: Math.max(...points.map((p) => p.bottom)),\n        left: Math.min(...points.map((p) => p.left)),\n    };\n    return {\n        top: container.absoluteBoundingBox.y - bounds.top,\n        right: bounds.right -\n            container.absoluteBoundingBox.x -\n            container.absoluteBoundingBox.width,\n        bottom: bounds.bottom -\n            container.absoluteBoundingBox.y -\n            container.absoluteBoundingBox.height,\n        left: container.absoluteBoundingBox.x - bounds.left,\n    };\n}\nfunction flattenNode(node, depth = 0) {\n    if (!(\"absoluteBoundingBox\" in node)) {\n        return node.children.map((child) => flattenNode(child, depth + 1)).flat();\n    }\n    if (!(\"children\" in node) || node.children.length === 0) {\n        return [Object.assign(Object.assign({}, node), { depth })];\n    }\n    return [\n        Object.assign(Object.assign({}, node), { depth }),\n        ...node.children.map((child) => flattenNode(child, depth + 1)).flat(),\n    ];\n}\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/FigspecFrameViewer.js\nvar FigspecFrameViewer_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n// TODO: Move docs for props in mixins (waiting for support at web-component-analyzer)\n/**\n * A Figma spec viewer. Displays a rendered image alongside sizing guides.\n * @element figspec-frame-viewer\n *\n * @property {number} [panX=0]\n * Current pan offset in px for X axis.\n * This is a \"before the scale\" value.\n *\n * @property {number} [panY=0]\n * Current pan offset in px for Y axis.\n * This is a \"before the scale\" value.\n *\n * @property {number} [scale=1]\n * Current zoom level, where 1.0 = 100%.\n *\n * @property {number} [zoomSpeed=500]\n * How fast zooming when do ctrl+scroll / pinch gestures.\n * Available values: 1 ~ 1000\n * @attr [zoom-speed=500] See docs for `zoomSpeed` property.\n *\n * @property {number} [panSpeed=500]\n * How fast panning when scroll vertically or horizontally.\n * This does not affect to dragging with middle button pressed.\n * Available values: 1 ~ 1000.\n * @attr [pan-speed=500] See docs for `panSpeed` property.\n *\n * @property {Figma.Node | null} [selectedNode=null]\n * Current selected node.\n *\n * @property {string} [link=null]\n * Figma link for the given project/node. If passed, figspec will present a footer with metadata and a link to figma.\n *\n * @property {number} [zoomMargin=50]\n * The minimum margin for the preview canvas in px. Will be used when the preview\n * setting a default zooming scale for the canvas.\n * @attr [zoom-margin=50] See docs for `zoomMargin` property.\n *\n * @fires scalechange When a user zoom-in or zoom-out the preview.\n * @fires positionchange When a user panned the preview.\n * @fires nodeselect When a user selected / unselected a node.\n */\nclass FigspecFrameViewer_FigspecFrameViewer extends ViewerMixin(lit_element_s) {\n    constructor() {\n        super(...arguments);\n        /**\n         * A response of \"GET file nodes\" API.\n         * https://www.figma.com/developers/api#get-file-nodes-endpoint\n         */\n        this.nodes = null;\n        /**\n         * An image rendered by \"GET image\" API.\n         * https://www.figma.com/developers/api#get-images-endpoint\n         */\n        this.renderedImage = null;\n    }\n    /** @private */\n    get isMovable() {\n        return !!(this.nodes && this.renderedImage && this.documentNode);\n    }\n    /**\n     * Readonly. Document node (= root drawable node).\n     * @readonly\n     */\n    get documentNode() {\n        if (!this.nodes) {\n            return null;\n        }\n        const documentNode = Object.values(this.nodes.nodes)[0];\n        if (!documentNode || !(\"absoluteBoundingBox\" in documentNode.document)) {\n            return null;\n        }\n        return documentNode.document;\n    }\n    /** @private */\n    get __images() {\n        if (!this.documentNode || !this.renderedImage) {\n            return {};\n        }\n        return {\n            [this.documentNode.id]: this.renderedImage,\n        };\n    }\n    /** @private */\n    get error() {\n        if (!this.nodes || !this.renderedImage) {\n            return ErrorMessage({\n                title: \"Parameter error\",\n                children: $ `<span>\n          Both <code>nodes</code> and <code>rendered-image</code> are required.\n        </span>`,\n            });\n        }\n        if (!this.documentNode) {\n            return ErrorMessage({\n                title: \"Parameter Error\",\n                children: $ `\n          <span> Document node is empty or does not have size. </span>\n        `,\n            });\n        }\n        if (super.error) {\n            return super.error;\n        }\n    }\n    getMetadata() {\n        return {\n            fileName: this.nodes.name,\n            timestamp: this.nodes.lastModified,\n            link: this.link,\n        };\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        if (this.documentNode) {\n            this.__updateTree(this.documentNode);\n            this.__updateEffectMargins();\n            this.resetZoom();\n        }\n    }\n    updated(changedProperties) {\n        super.updated(changedProperties);\n        if (changedProperties.has(\"nodes\")) {\n            if (!this.documentNode)\n                return;\n            this.__updateTree(this.documentNode);\n            this.resetZoom();\n        }\n        if (changedProperties.has(\"renderedImage\")) {\n            this.__updateEffectMargins();\n        }\n    }\n}\nFigspecFrameViewer_decorate([\n    property_e({\n        type: Object,\n    })\n], FigspecFrameViewer_FigspecFrameViewer.prototype, \"nodes\", void 0);\nFigspecFrameViewer_decorate([\n    property_e({\n        type: String,\n        attribute: \"rendered-image\",\n    })\n], FigspecFrameViewer_FigspecFrameViewer.prototype, \"renderedImage\", void 0);\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/FigspecViewer/FigspecFileViewer.js\nvar FigspecFileViewer_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FigspecFileViewer_classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _selectFirstPage, _handlePageChange;\n\n\n\n\n\n// TODO: Move docs for props in mixins (waiting for support at web-component-analyzer)\n/**\n * A Figma spec viewer. Displays a rendered image alongside sizing guides.\n * @element figspec-file-viewer\n *\n * @property {number} [panX=0]\n * Current pan offset in px for X axis.\n * This is a \"before the scale\" value.\n *\n * @property {number} [panY=0]\n * Current pan offset in px for Y axis.\n * This is a \"before the scale\" value.\n *\n * @property {number} [scale=1]\n * Current zoom level, where 1.0 = 100%.\n *\n * @property {number} [zoomSpeed=500]\n * How fast zooming when do ctrl+scroll / pinch gestures.\n * Available values: 1 ~ 1000\n * @attr [zoom-speed=500] See docs for `zoomSpeed` property.\n *\n * @property {number} [panSpeed=500]\n * How fast panning when scroll vertically or horizontally.\n * This does not affect to dragging with middle button pressed.\n * Available values: 1 ~ 1000.\n * @attr [pan-speed=500] See docs for `panSpeed` property.\n *\n * @property {Figma.Node | null} [selectedNode=null]\n * Current selected node.\n *\n * @property {string} [link=null]\n * Figma link for the given project/node. If passed, figspec will present a footer with metadata and a link to figma.\n *\n * @property {number} [zoomMargin=50]\n * The minimum margin for the preview canvas in px. Will be used when the preview\n * setting a default zooming scale for the canvas.\n * @attr [zoom-margin=50] See docs for `zoomMargin` property.\n *\n * @fires scalechange When a user zoom-in or zoom-out the preview.\n * @fires positionchange When a user panned the preview.\n * @fires nodeselect When a user selected / unselected a node.\n */\nclass FigspecFileViewer_FigspecFileViewer extends ViewerMixin(lit_element_s) {\n    constructor() {\n        super(...arguments);\n        /**\n         * A response of \"GET file nodes\" API.\n         * https://www.figma.com/developers/api#get-file-nodes-endpoint\n         */\n        this.documentNode = null;\n        /**\n         * A record of rendered images, where key is an ID of the node,\n         * value is an URI of the image.\n         * https://www.figma.com/developers/api#get-images-endpoint\n         */\n        this.renderedImages = null;\n        /**\n         * Current selected page (node whose type is \"CANVAS\").\n         */\n        this.selectedPage = null;\n        _selectFirstPage.set(this, () => {\n            var _a;\n            if (!this.documentNode) {\n                this.selectedPage = null;\n                return;\n            }\n            this.selectedPage = (_a = this.documentNode.document.children.filter((c) => c.type === \"CANVAS\")[0]) !== null && _a !== void 0 ? _a : null;\n        });\n        _handlePageChange.set(this, (ev) => {\n            var _a, _b;\n            const target = ev.currentTarget;\n            this.selectedPage = (_b = (_a = this.documentNode) === null || _a === void 0 ? void 0 : _a.document.children.find((c) => c.id === target.value)) !== null && _b !== void 0 ? _b : null;\n            if (this.selectedPage) {\n                this.__updateTree(this.selectedPage);\n                this.resetZoom();\n                this.__updateEffectMargins();\n                this.panX = 0;\n                this.panY = 0;\n            }\n        });\n    }\n    /** @private */\n    get isMovable() {\n        return !!(this.renderedImages && this.documentNode);\n    }\n    /** @private */\n    get __images() {\n        return this.renderedImages || {};\n    }\n    /** @private */\n    get error() {\n        if (!this.documentNode || !this.renderedImages) {\n            return ErrorMessage({\n                title: \"Parameter error\",\n                children: $ `<span>\n          Both <code>document-node</code> and <code>rendered-images</code> are\n          required.\n        </span>`,\n            });\n        }\n        if (super.error) {\n            return super.error;\n        }\n    }\n    static get styles() {\n        return extendStyles(super.styles, [\n            css_tag_r `\n        :host {\n          --figspec-control-bg-default: #fcfcfc;\n          --figspec-control-fg-default: #333;\n\n          --control-bg: var(\n            --figspec-control-bg,\n            var(--figspec-control-bg-default)\n          );\n          --control-fg: var(\n            --figspec-control-bg,\n            var(--figspec-control-fg-default)\n          );\n          --control-shadow: var(\n            --figspec-control-shadow,\n            0 2px 4px rgba(0, 0, 0, 0.3)\n          );\n          --padding: var(--figspec-control-padding, 8px 16px);\n\n          display: flex;\n          flex-direction: column;\n        }\n\n        @media (prefers-color-scheme: dark) {\n          :host {\n            --figspec-control-bg-default: #222;\n            --figspec-control-fg-default: #fff;\n          }\n        }\n\n        .controls {\n          flex-shrink: 0;\n          padding: var(--padding);\n\n          background-color: var(--control-bg);\n          box-shadow: var(--control-shadow);\n          color: var(--control-fg);\n          z-index: 1;\n        }\n\n        .view {\n          position: relative;\n          flex-grow: 1;\n          flex-shrink: 1;\n        }\n      `,\n        ]);\n    }\n    render() {\n        var _a;\n        return $ `\n      <div class=\"controls\">\n        <select @change=${FigspecFileViewer_classPrivateFieldGet(this, _handlePageChange)}>\n          ${(_a = this.documentNode) === null || _a === void 0 ? void 0 : _a.document.children.map((c) => $ `<option value=${c.id}>${c.name}</option>`)}\n        </select>\n      </div>\n\n      <div class=\"view\">${super.render()}</div>\n    `;\n    }\n    getMetadata() {\n        return {\n            fileName: this.documentNode.name,\n            timestamp: this.documentNode.lastModified,\n            link: this.link,\n        };\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        if (this.documentNode) {\n            FigspecFileViewer_classPrivateFieldGet(this, _selectFirstPage).call(this);\n            if (this.selectedPage) {\n                this.__updateTree(this.selectedPage);\n                this.resetZoom();\n            }\n        }\n    }\n    updated(changedProperties) {\n        super.updated(changedProperties);\n        if (changedProperties.has(\"documentNode\")) {\n            FigspecFileViewer_classPrivateFieldGet(this, _selectFirstPage).call(this);\n            if (this.selectedPage) {\n                this.__updateTree(this.selectedPage);\n                this.resetZoom();\n            }\n        }\n        if (changedProperties.has(\"renderedImages\")) {\n            this.__updateEffectMargins();\n        }\n    }\n}\n_selectFirstPage = new WeakMap(), _handlePageChange = new WeakMap();\nFigspecFileViewer_decorate([\n    property_e({\n        type: Object,\n        attribute: \"document-node\",\n    })\n], FigspecFileViewer_FigspecFileViewer.prototype, \"documentNode\", void 0);\nFigspecFileViewer_decorate([\n    property_e({\n        type: Object,\n        attribute: \"rendered-images\",\n    })\n], FigspecFileViewer_FigspecFileViewer.prototype, \"renderedImages\", void 0);\n\n// CONCATENATED MODULE: ./node_modules/@figspec/components/esm/es2015/index.js\n\n\nif (!customElements.get(\"figspec-file-viewer\")) {\n    customElements.define(\"figspec-file-viewer\", FigspecFileViewer_FigspecFileViewer);\n}\nif (!customElements.get(\"figspec-frame-viewer\")) {\n    customElements.define(\"figspec-frame-viewer\", FigspecFrameViewer_FigspecFrameViewer);\n}\n\n\n\n// CONCATENATED MODULE: ./node_modules/@lit-labs/react/create-component.js\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst create_component_t=new Set([\"children\",\"localName\",\"ref\",\"style\",\"className\"]),create_component_e=new WeakMap,create_component_n=(t,n,s,o,i)=>{const l=null==i?void 0:i[n];void 0!==l?s!==o&&((t,n,s)=>{let o=create_component_e.get(t);void 0===o&&create_component_e.set(t,o=new Map);let i=o.get(n);void 0!==s?void 0===i?(o.set(n,i={handleEvent:s}),t.addEventListener(n,i)):i.handleEvent=s:void 0!==i&&(o.delete(n),t.removeEventListener(n,i))})(t,l,s):t[n]=s},create_component_s=(e,s,o,i,l)=>{const c=e.Component,r=e.createElement,d=new Set(Object.keys(null!=i?i:{}));for(const e in o.prototype)e in HTMLElement.prototype||(create_component_t.has(e)?console.warn(`${s} contains property ${e} which is a React reserved property. It will be used by React and not set on the element.`):d.add(e));class h extends c{constructor(){super(...arguments),this.t=null}o(t){if(null!==this.t)for(const e in this.i)create_component_n(this.t,e,this.props[e],t?t[e]:void 0,i)}componentDidMount(){this.o()}componentDidUpdate(t){this.o(t)}render(){const t=this.props.l;void 0!==this.h&&this.u===t||(this.h=e=>{null===this.t&&(this.t=e),null!==t&&((t,e)=>{\"function\"==typeof t?t(e):t.current=e})(t,e),this.u=t});const e={ref:this.h};this.i={};for(const[t,n]of Object.entries(this.props))\"__forwardedRef\"!==t&&(d.has(t)?this.i[t]=n:e[\"className\"===t?\"class\":t]=n);return r(s,e)}}h.displayName=null!=l?l:o.name;const a=e.forwardRef(((t,e)=>r(h,{...t,l:e},null==t?void 0:t.children)));return a.displayName=h.displayName,a};\n//# sourceMappingURL=create-component.js.map\n\n// CONCATENATED MODULE: ./node_modules/@lit-labs/react/index.js\n\n//# sourceMappingURL=index.js.map\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./node_modules/@figspec/react/esm/es2015/index.js\n\n\n\n// NOTE: These exported components are casted with `as unknown as ...` in order not to break\n//       typings accidentally. `as unknown` is required because a component created by\n//       `createComponent` has `RefAttributes<unknown>`, which is incompatible with existing\n//       type signature (and breaks ref typings). Also the explicit props definition prevents\n//       every properties turns into optional.\nconst es2015_FigspecFrameViewer = create_component_s(react, \"figspec-frame-viewer\", FigspecFrameViewer_FigspecFrameViewer, {\n    onNodeSelect: \"nodeselect\",\n    onPositionChange: \"positionchange\",\n    onScaleChange: \"scalechange\",\n});\nconst es2015_FigspecFileViewer = create_component_s(react, \"figspec-file-viewer\", FigspecFileViewer_FigspecFileViewer, {\n    onNodeSelect: \"nodeselect\",\n    onPositionChange: \"positionchange\",\n    onScaleChange: \"scalechange\",\n});\n\n\n/***/ }),\n\n/***/ 976:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(process) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Figspec\", function() { return Figspec; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _figspec_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(971);\n/* harmony import */ var _storybook_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(319);\n/* harmony import */ var _storybook_theming__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(43);\n/* harmony import */ var _Figma__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(461);\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\nvar fullscreen = Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__[/* css */ \"c\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n\"], [\"\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n\"])));\nfunction unwrapJson(res) {\n    return res.status !== 200 ? Promise.reject(res.statusText) : res.json();\n}\nfunction getAccessToken(cfg) {\n    var _a;\n    if (cfg.accessToken) {\n        return cfg.accessToken;\n    }\n    try {\n        return (_a = process.env.STORYBOOK_FIGMA_ACCESS_TOKEN) !== null && _a !== void 0 ? _a : null;\n    }\n    catch (err) {\n        return null;\n    }\n}\nvar Figspec = function (_a) {\n    var config = _a.config;\n    var _b = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])({\n        state: 'loading',\n    }), state = _b[0], setState = _b[1];\n    var fetchDetails = function (signal) { return __awaiter(void 0, void 0, void 0, function () {\n        var match, fileKey, url, nodeId, accessToken, headers, nodeUrl, imageUrl, documentNode, frames_1, images_1, _a, nodes, images, err_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    setState({ state: 'loading' });\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 6, , 7]);\n                    match = config.url.match(_Figma__WEBPACK_IMPORTED_MODULE_4__[/* figmaURLPattern */ \"b\"]);\n                    if (!match) {\n                        throw new Error(config.url + ' is not a valid Figma URL.');\n                    }\n                    fileKey = match[3];\n                    url = new URL(config.url);\n                    nodeId = url.searchParams.get('node-id');\n                    accessToken = getAccessToken(config);\n                    if (!accessToken) {\n                        throw new Error('Personal Access Token is required.');\n                    }\n                    headers = {\n                        'X-FIGMA-TOKEN': accessToken,\n                    };\n                    nodeUrl = new URL(\"https://api.figma.com/v1/files/\" + fileKey);\n                    imageUrl = new URL(\"https://api.figma.com/v1/images/\" + fileKey);\n                    imageUrl.searchParams.set('format', 'svg');\n                    if (!!nodeId) return [3, 4];\n                    return [4, fetch(nodeUrl.href, {\n                            headers: headers,\n                            signal: signal,\n                        }).then(unwrapJson)];\n                case 2:\n                    documentNode = _b.sent();\n                    frames_1 = listAllFrames(documentNode.document);\n                    imageUrl.searchParams.set('ids', frames_1.map(function (frame) { return frame.id; }).join(','));\n                    return [4, fetch(imageUrl.href, {\n                            headers: headers,\n                            signal: signal,\n                        }).then(unwrapJson)];\n                case 3:\n                    images_1 = _b.sent();\n                    setState({\n                        state: 'fetched',\n                        value: {\n                            type: 'file',\n                            props: {\n                                documentNode: documentNode,\n                                renderedImages: images_1.images,\n                                link: config.url\n                            },\n                        },\n                    });\n                    return [2];\n                case 4:\n                    nodeUrl.pathname += '/nodes';\n                    nodeUrl.searchParams.set('ids', nodeId);\n                    imageUrl.searchParams.set('ids', nodeId);\n                    return [4, Promise.all([\n                            fetch(nodeUrl.href, {\n                                headers: headers,\n                                signal: signal,\n                            }).then(unwrapJson),\n                            fetch(imageUrl.href, { headers: headers, signal: signal }).then(unwrapJson),\n                        ])];\n                case 5:\n                    _a = _b.sent(), nodes = _a[0], images = _a[1];\n                    setState({\n                        state: 'fetched',\n                        value: {\n                            type: 'frame',\n                            props: {\n                                nodes: nodes,\n                                renderedImage: Object.values(images.images)[0],\n                                link: config.url\n                            },\n                        },\n                    });\n                    return [3, 7];\n                case 6:\n                    err_1 = _b.sent();\n                    if (err_1 instanceof DOMException && err_1.code === DOMException.ABORT_ERR) {\n                        return [2];\n                    }\n                    console.error(err_1);\n                    setState({\n                        state: 'failed',\n                        error: err_1 instanceof Error ? err_1.message : String(err_1),\n                    });\n                    return [3, 7];\n                case 7: return [2];\n            }\n        });\n    }); };\n    Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n        var fulfilled = false;\n        var fulfil = function () {\n            fulfilled = true;\n        };\n        var ac = new AbortController();\n        fetchDetails(ac.signal).then(fulfil, fulfil);\n        return function () {\n            if (!fulfilled) {\n                ac.abort();\n            }\n        };\n    }, [config.url]);\n    switch (state.state) {\n        case 'loading':\n            return (Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"d\"])(_storybook_components__WEBPACK_IMPORTED_MODULE_2__[/* Placeholder */ \"a\"], null,\n                Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"d\"])(react__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], null, \"Loading Figma file...\")));\n        case 'failed':\n            return (Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"d\"])(_storybook_components__WEBPACK_IMPORTED_MODULE_2__[/* Placeholder */ \"a\"], null,\n                Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"d\"])(react__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], null, \"Failed to load Figma file\"),\n                Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"d\"])(react__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], null, state.error)));\n        case 'fetched':\n            return state.value.type === 'file' ? (Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"d\"])(_figspec_react__WEBPACK_IMPORTED_MODULE_1__[/* FigspecFileViewer */ \"a\"], __assign({ css: fullscreen }, state.value.props))) : (Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"d\"])(_figspec_react__WEBPACK_IMPORTED_MODULE_1__[/* FigspecFrameViewer */ \"b\"], __assign({ css: fullscreen }, state.value.props)));\n    }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Figspec);\nfunction listAllFrames(node) {\n    if ('absoluteBoundingBox' in node) {\n        return [node];\n    }\n    if (!node.children || node.children.length === 0) {\n        return [];\n    }\n    return node.children.map(listAllFrames).flat();\n}\nvar templateObject_1;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(182)))\n\n/***/ })\n\n}]);","inputSourceMap":null,"banner":"For license information please see 6.e5c85997bf1f704e062c.manager.bundle.js.LICENSE.txt","extractedComments":"/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n","commentsFilename":"6.e5c85997bf1f704e062c.manager.bundle.js.LICENSE.txt"}